<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Request CI EDClinic">53a3b0df1b8421103ddb639bbc4bcb58</compiled_topic>
        <design_definition>{"type":"FlowTopic","type":"FlowTopic","triggers":[{"type":"Trigger","name":"27a0ee21cc2d4b69b051dd9276c54f56","triggerType":"request","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"id":"27a0ee21cc2d4b69b051dd9276c54f56"}],"goals":[{"name":"primary","trigger_id":"27a0ee21cc2d4b69b051dd9276c54f56","nodes":[{"type":"StartGoal","type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"f18bda6305984ec8bc8eb8ca629599ca","name":"Start"},{"type":"TerminateGoal","type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","type":"String","mode":"string","value":""},"id":"b2f6f97c0f1447738d3d661e2155ebe3","name":"End"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n","id":"1fcdcbce981c4a69a43c692aa0fff7da","name":"Set Selected Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n"}],"id":"7cd5890cfdc343e09bc999e908c8a5b9","name":"Item Description","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"8ac34be332244096b75ffdc8931e90cc","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Should I proceed with this?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"d002d97da5f04569b964b72d0511a6d3","name":"Proceed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=false"},"id":"bcd2f46c8aaa4d34a06c083f0003dd29","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed=true"},"id":"0738790a34fb48498148b459e228eb84","name":"Yes"}],"id":"bc85a628bdd042b683eae6276c770ac9","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"8b3fbe08c9e14a8db73d7c9b4fcd72a5","name":"Has VA Support"},{"type":"Branch","type":"Branch","label":"No VA Support","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"},"id":"64e324d8f1104e5091878dc2ec250809","name":"No VA Support"}],"id":"ed44baf15459462094b5fb3b80020c18","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Item with no variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"},"id":"d8108911db014c8089dfbe02e6a1a4ba","name":"Item with no variables"},{"type":"Branch","type":"Branch","label":"Item with variables","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"},"id":"afaa6b4d18764de5bf95bed994c02fb9","name":"Item with variables"}],"id":"f641789166c14ab594da888a7e94ba01","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"OK, let's finish up your request.\", vaContext.getRequesterLang())"}],"id":"4c6f66a159044ac3892b48b033fdc2a3","name":"Start Questions","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Questions Done","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"},"id":"39c3e327e12e4c7b98bf7fdd3a3eb2a6","name":"Questions Done"},{"type":"Branch","type":"Branch","label":"Questions Left","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"},"id":"76c2695948594b56b373dd2c5366329a","name":"Questions Left"}],"id":"d5920ae874e544fdb45940dd353a40a5","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Catalog Item","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"feca087d0b44494a83508ef56961569e","name":"Catalog Item"},{"type":"Branch","type":"Branch","label":"Record Producer","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"},"id":"53dcadd192f04523b61b5df7408a55c4","name":"Record Producer"}],"id":"261d180638b34915b8d83502523bd71d","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2f9517fcebe5464fbdb1d0029eac08f4","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Alright, you're all set. Shall I submit this request?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"6cf92f67176e4c92946b8baae7627a02","name":"Submit Producer","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Submit","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer="},"id":"63d29e6835834a24b7899c39454b57b4","name":"Don't Submit"},{"type":"Branch","type":"Branch","label":"Submit Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"submit_producer=true"},"id":"e752c4c004f14c168187fd9759dcb350","name":"Submit Now"}],"id":"11e8fe287c814f17975368bf10d617f7","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n","id":"3529e87fc7aa412b8cbf6b4f72d55ef5","name":"Insert the Record","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"d95d3689d59c4fb2835666556859452b","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Alright, you're all set. Shall I submit this request?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"ccfaa04972f249548acf35d12e20512f","name":"Order Item","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Don't Order","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item="},"id":"74270baca2e54400a799b02b885d1dff","name":"Don't Order"},{"type":"Branch","type":"Branch","label":"Order Now","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"order_item=true"},"id":"370cf28558fe4285a1841b2cc04a7d57","name":"Order Now"}],"id":"1aba04f33fde4914be67f21e7c0c42cc","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()","id":"f271826512564c5c9fa869c1528caa78","name":"Checkout Cart","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"},"id":"2ee44b5e2eed42788f70e4fa1fbb9832","name":"Question Requested For"},{"type":"Branch","type":"Branch","label":"Date Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"},"id":"f50af1a24d5e479da9e5d93908b8f9fe","name":"Date Question"},{"type":"Branch","type":"Branch","label":"Text Type Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"188c4299909e4776b55ca5dc61b4e812","name":"Text Type Question"},{"type":"Branch","type":"Branch","label":"Date-Time Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"},"id":"ae8b4ec3a2af4208954bd78c4809e5aa","name":"Date-Time Question"},{"type":"Branch","type":"Branch","label":"Question Label","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"},"id":"fd7e19812cff46719739667c395d8bef","name":"Question Label"},{"type":"Branch","type":"Branch","label":"Container Or Break Questions","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"},"id":"a6eec00c6073419abe6faf8e3ddd990b","name":"Container Or Break Questions"},{"type":"Branch","type":"Branch","label":"Unsupported  Variable  Types","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"},"id":"e8b98ee6dd1d4ef49f0d6b083382fe2e","name":"Unsupported  Variable  Types"},{"type":"Branch","type":"Branch","label":"Email Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"251d689857314e9b8fab033aa221fe4e","name":"Email Question"},{"type":"Branch","type":"Branch","label":"Ip Address Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"66eb040857d748bd87ee867b8edfd157","name":"Ip Address Question"},{"type":"Branch","type":"Branch","label":"URL Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"519de07df372492abebab4e9c745c83a","name":"URL Question"},{"type":"Branch","type":"Branch","label":"Question Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"},"id":"a6d00336df454a80a7ef4a3bc0bc641a","name":"Question Attachment"},{"type":"Branch","type":"Branch","label":"Rich Text Label Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"},"id":"e16c061a625547db9567a9e4b052ecf4","name":"Rich Text Label Question"},{"type":"Branch","type":"Branch","label":"Choice Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"},"id":"bcc642ee761d4456b73b429ae7bd3683","name":"Choice Question"},{"type":"Branch","type":"Branch","label":"Reference Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"},"id":"28f06e03fa71408992a851bacb398737","name":"Reference Question"}],"id":"822ef315be27448f86176b30a0b57a69","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"89ee67709d324252b1097acfbd760d0a","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"c77451fa65bd48f1bc5cfd729eea8a82","name":"Question Date","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.runDataLookups(itemJson, quesJson.sys_id));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n","id":"c52a1149520047d5a73c9ebe61a036b3","name":"Post Response","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"5a59cfc95f4b4374b9615e5843c64b6e","name":"Repeat Question"},{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"89ad642021b3409a94116bc994af9a85","name":"Next Question"}],"id":"a131dcce52b44cf0a774e8fde61504e5","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"499a44abe9c948919a0ef4c9fe7c560c","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"0bcc541ab0024d63a721e3c361c512e6","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"d8482236657c4d96a0d3021b049ac6a4","name":"Question Text","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"ed4708d2bb154831a65fed6c4b56b79b","name":"Question Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"e72cc9fcb359400ca36bc99dac9b4a9f","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n","id":"ea37f26cd54f41d5afa339eda82ce401","name":"Set Record ID to -1","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"39b352bf0cf146a5813580386d9f666c","name":"Question Choice","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"6da4b36f89cf43179fdafa9f54cbfe0e","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"beeff529ecbc4f38b1932a34b197adf9","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"317d6ff924de42a69cb743250b9024bb","name":"Question Date Time","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"4497edbf6ff7404390a5ea8858332193","name":"Question Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"}],"id":"a451218ded67479a98ea469d15c6efa6","name":"Container Start Question","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"},"secure":false},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"3afec8fdc43141bf9e8dd49c225fe574","name":"Question Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"7c88e20f614442ca8e5e3f6cf8f407fb","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"I couldn't find a user with that name\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"d63ab2420c294750935e44d7fdb70e67","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Who should I set it to?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"d14db90c8e5d453fb8faf9b3102c93f8","name":"Search Requested For","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Requested For Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"},"id":"d06caded7b6f4760b187bf7cafaa7507","name":"Requested For Next"},{"type":"Branch","type":"Branch","label":"Search Requested For","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"},"id":"1cd77995476c40f981d985a7391170f6","name":"Search Requested For"},{"type":"Branch","type":"Branch","label":"Requested For Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"c6ff3cbdb6dd43c49d12031a128a5381","name":"Requested For Chosen"},{"type":"Branch","type":"Branch","label":"Requested For Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"},"id":"616a5178bdea4361ac77f45849c447d0","name":"Requested For Prev"}],"id":"4616b6d076224bb99754db232b9fa0a4","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"f34c18dc441d45ab9285a16451b0b7ab","name":"Requested For Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n","id":"9263cf2e0fb34eb0b568f18794426637","name":"Is Delegation Allowed","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Can View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.canView;\n})()\n"},"id":"7f24105a1edd44ca95f2ab81f7bcbf00","name":"Can View"},{"type":"Branch","type":"Branch","label":"Cannot View","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !vaVars.canView\n})()\n"},"id":"d7e5e4c65fcc42f092dbec0b07357cbc","name":"Cannot View"}],"id":"5c02b3e84a3244e9bb33ad8aa3048317","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"ce76060cc59b448b8fdfbca0dfa1b404","name":"Requested For Previous Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"9731ca7237de4f54b93f7f3fb8573a78","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"The selected user does not have access to this item. Do you want to request for  someone else?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"3d66989b1eb84483bbf425275ab01a66","name":"Request For Another User","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"Text","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Request for Another User","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user=true"},"id":"81e2e77ba90f4b9f9b59245a3d805811","name":"Request for Another User"},{"type":"Branch","type":"Branch","label":"End Conversation","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"request_for_another_user="},"id":"aa779fbd03bf479eb22e8d857ad6e5ad","name":"End Conversation"}],"id":"a33575618f65456f9332129eb86060fd","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"046f1214f10c436086ffb6c1ce7af88a","name":"No onChange Policies"},{"type":"Branch","type":"Branch","label":"Has onChange Policies","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"},"id":"f5b174ac1d0f46dfbea7bc92b4f02522","name":"Has onChange Policies"}],"id":"aab3d1ac74cb48a7a56a5967e233014b","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n","id":"8dc7837373ac4eaa80563c150ea22e68","name":"Run OnChange Policies","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"5cec8d23da1f4dd5ab027098434de43e","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"ccdfd59a6afb4539a83b2130238b013e","name":"Question Email","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"d2f9a89bf0db4a32bccb1a0b1240050c","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"5a7d96634e294337ac51846a69c45192","name":"Question IP Address","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":""},{"type":"InputPrompt","type":"InputPrompt","variable_id":"efc16df6a2b2439c91b4d334fc21ae47","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"a7193adfa51648e4bc307f13075a9db1","name":"Question URL","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":""},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Has  No Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"},"id":"777e1f25aa2a47639623e8317037e777","name":"Has  No Attachment"},{"type":"Branch","type":"Branch","label":"Has Attachment","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"},"id":"ced37f0980044e4d9d03cde1780803b8","name":"Has Attachment"}],"id":"62459bf52fe64a8e965a3b13f12c349a","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2ecf6a4c47d0442085224a82a9578df9","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"b15ae21d6bb54761aef71add5ee7cadb","name":"Add Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"},"id":"8460761ecfb8463685f4c6eab94ca348","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"},"id":"afce464e02d14a7ea3eb0b1d4ad43c81","name":"Yes"}],"id":"e508c97ac8b74e6aab119ad8e5a34a6e","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"0fdf82e8310a4270ae7eb058bc677e37","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"},"id":"218b35c5d2924d08bf0bcc9d7fc8d5e9","name":"Upload Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n","id":"6ae2344c804b443e8a27a526ebc232e2","name":"Add Media Links for Form Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","type":"InputPrompt","variable_id":"2f9f67bfae294d899448a6868d720fde","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage('Add more?');\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"cd29901fbcab4b728ed9596897e893e9","name":"Add More","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more=true"},"id":"dcadb0a9cf224ab88cf7f753d738f2e2","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"add_more="},"id":"51617d771d9b476498326bf5a21dc8cf","name":"No"}],"id":"6a7140d7876c4975a89b598d7be64fed","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"8b7b58df3d5b4352ac5f3dd31b8de875","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"},"id":"47a4f654e8c44863b85a365bb54890d9","name":"Question Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n","id":"0abf0a646a07407a8a4dd32682de0e12","name":"Validate Attachment","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"query","value":"question_attachmentISNOTEMPTY"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Next Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"},"id":"e3635c62ba394dc2b2d334ca2fd77754","name":"Next Question"},{"type":"Branch","type":"Branch","label":"Repeat Question","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"},"id":"18f3d3746e674fdfb72cff2009993c03","name":"Repeat Question"}],"id":"0f348f7238fb47199769718b2b2e48c0","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"8b187af891b14cab84169ec01d560c57","name":"Validation Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n"},"secure":false},{"type":"Decision","type":"Decision","name":"Is Record Producer","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"},"id":"b3ee980b5af24ac68aedd5889a3d4477","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"},"id":"0d88da456dfb46bb867782193aab59cc","name":"Yes"}],"id":"1aa509c0eea748fd85a1bfa66124628e","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Execute Contextual Search","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"},"id":"0077c2b48d754a54b895367ebbdf8ed4","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"},"id":"c0b88f6dd58b4ddeab48b2b76e8a39e5","name":"Yes"}],"id":"54dd79b4bf7b412bae45dfab7604aeb9","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n","id":"faef557696f1480980683767ae84d71d","name":"Get Search Variable And Context","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Contextual Search Variable ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"172aa72acca9400f8fc0f7e95d560725","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"},"id":"7e6d00bd465b454d8461d50e301462c2","name":"Yes"}],"id":"cc580e5e882644e2997145318291f690","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n","id":"725884c3f6644b6e9c3e5f89a26df9a7","name":"Contextual Search","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did the search return results ?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"4f9a39856da441e095912be3ad714d7e","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"},"id":"26d19782b8824c7f8847c40efaaeb186","name":"Yes"}],"id":"95bf47409fc24baa931b31408fc88964","goal_id":"primary"},{"type":"LinkOutputPrompt","type":"LinkOutputPrompt","header":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"I found some information that might help you:\", vaContext.getRequesterLang())"},"label":{"type":"String","type":"String","mode":"string","value":""},"url":{"type":"String","type":"String","mode":"string","value":""},"link_type":"multiple","multi_link_script":"(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n","id":"386a957769a744cea48ff14f350da385","name":"Display multi-link","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Did Articles Help ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help=true"},"id":"9082643693ed48ff8cdc0f7c2e533b82","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"did_articles_help!=true"},"id":"c2b463de0a6f4e71865d303d2fade920","name":"No"}],"id":"006a04921db04721aa903237a20c5e28","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"148f6abe10f144bc8049e1a7d9970c16","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Did any of this information resolve your issue?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"2468ee95a31d432bb1e65386480e8bea","name":"Did Articles Help","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Confirmation Required ?","branches":[{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=true"},"id":"fbde11b02eb34c088efba9b1a612d131","name":"Yes"},{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"confirm_catalog_item=false"},"id":"c272351ce782473392b714cdf086e8fd","name":"No"}],"id":"04d257b05a4b4ba18d8cedb1550a80ec","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Order","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"1865f2bd812e488b98a691880bf9c362","name":"Order"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"21c78b1cc6684ed5a6ac773c9aefff0e","name":"Preview"}],"id":"1526e3762e144a208126ccc5e4ecea1a","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Preview successful\", vaContext.getRequesterLang())"}],"id":"aade5afa9db14063b993606281b634f3","name":"Catalog Builder Preview","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Submit","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"},"id":"df392f73c6b84a8789dcf03cad24231d","name":"Submit"},{"type":"Branch","type":"Branch","label":"Preview","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"},"id":"0c92543becfd4233a3b9fdee0f61d0c8","name":"Preview"}],"id":"fee819ce088548239b8aaf8cabf326a1","goal_id":"primary"},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Since this was a preview, the request was not submitted\", vaContext.getRequesterLang())"}],"id":"19558f3227ea492a9ef50ebaee5211a8","name":"Catalog Builder Preview Message","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"secure":false},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Attachment uploaded","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISNOTEMPTY"},"id":"c0e51261a5ab43feb1f5475cae2b8920","name":"Attachment uploaded"},{"type":"Branch","type":"Branch","label":"Attachment skipped","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"upload_attachmentISEMPTY"},"id":"c7919af0fc8f47b294f11b7faaefd741","name":"Attachment skipped"}],"id":"eb06748dacb74a88aeb61fb22d660353","goal_id":"primary"},{"type":"ScriptOutputPrompt","type":"ScriptOutputPrompt","output_type":"single_part","id":"4146a9d7a93647a18a630b954c913466","name":"Question Rich Text Label","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"value":{"type":"String","type":"String","mode":"string","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"secure":false},{"type":"TextOutputPrompt","type":"TextOutputPrompt","value":[{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n"}],"id":"2e7752c0933d4139bb7635bc616c5abd","name":"Default Value Acknowledgement ","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"},"secure":false},{"type":"InputPrompt","type":"InputPrompt","variable_id":"d6bba76e568c4e5cb3f74d27e040add5","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Do you want to proceed with this value?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"ca0b86cc454b4720a403bb42705fd391","name":"Proceed with Default","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Do not proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default="},"id":"84d8ddc12e2045de8c5a7d25adbd296d","name":"Do not proceed with default value"},{"type":"Branch","type":"Branch","label":"Proceed with default value","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"proceed_with_default=true"},"id":"2ca8463c93ca44d59736c639688fcf59","name":"Proceed with default value"}],"id":"0ba16baaee164e188eb7517e1d7907d7","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Show end state card?","branches":[{"type":"Branch","type":"Branch","label":"No","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card="},"id":"54775e1ae2244d2b90b7be23b625d6a4","name":"No"},{"type":"Branch","type":"Branch","label":"Yes","expression":{"type":"Applicability","type":"Applicability","mode":"query","value":"show_end_state_card=true"},"id":"313172002e824673bb5a6eeb855b3a57","name":"Yes"}],"id":"ce52248e0a4843569613ec3a7d504ecc","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Text Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"},"id":"91f9819022f84dbf8e7d90da150070db","name":"Text Type"},{"type":"Branch","type":"Branch","label":"Email Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"},"id":"1e66385e9aa941cc956ec2b8226bd860","name":"Email Type"},{"type":"Branch","type":"Branch","label":"IP Address Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"},"id":"2f6b48fb20834948ab9cf03f19a02eae","name":"IP Address Type"},{"type":"Branch","type":"Branch","label":"URL Type","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"},"id":"f37dd4adb59041768ca6318447d9649d","name":"URL Type"}],"id":"725220686d9748e8a330f7051c2337b9","goal_id":"primary"},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"678c3421bbd644a08eacca4996b7d495","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"},"id":"ed2300120ebb4384bb7864629dd4d751","name":"Other Channels"}],"id":"f403deab25b04861926dd1caf3bd0780","goal_id":"primary"},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"86df3902bd3c428c8579737431350cfc","name":"Question Choice Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"8cbeff61ed5343ebb8350cc5c4e68666","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Choice Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"},"id":"26c5ddc4192343468dcc484effb66d7e","name":"Question Choice Prev"},{"type":"Branch","type":"Branch","label":"Question Choice Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"},"id":"0bb366cca7974b66a0057fa5bffce264","name":"Question Choice Next"},{"type":"Branch","type":"Branch","label":"Question Choice Chosen","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"},"id":"a2c0f085eb01476b96a9c9ed1b589f20","name":"Question Choice Chosen"}],"id":"93318b7d304c4f5d87f7ac7df0fb5594","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"c4c7f93e774d4dd9b3e19400a83ed3f7","name":"Question Choice Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"b593e0f1190a42aabd6a81a6627715ab","name":"Question Choice Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()","id":"03913b036e7542cc819ebe9a91d71e36","name":"Set Question Choice Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","type":"Decision","name":"Messaging Channel","branches":[{"type":"Branch","type":"Branch","label":"Mobile/Web Client","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"},"id":"69a371ed70774351a5e114335cc26768","name":"Mobile/Web Client"},{"type":"Branch","type":"Branch","label":"Other Channels","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"},"id":"814cfab1d337424ab95c95d8cd618b7a","name":"Other Channels"}],"id":"f01a3c9cf86142c4beee73bbf60a0907","goal_id":"primary"},{"type":"InputPrompt","type":"InputPrompt","variable_id":"023eea0b3b0e41589ecd3c1060642f77","message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"Enter a value to search\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"false"},"id":"6565361f242b4825a32cf52c0f493819","name":"Search Reference","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"},"formatType":"Text","validationScript":""},{"type":"ReferenceChoiceInputPrompt","type":"ReferenceChoiceInputPrompt","mode":"external","id":"1fb5f6dbf24f40fd976d42e5842186a1","name":"Question Reference Other Channels","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"variable_id":"ee743482165e433f80d8b4f684b67f91","message":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()"},"skippable":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n","metadataScript":"","cardName":"","cardFields":[],"no_options_found_message":{"type":"String","type":"String","mode":"string","value":"gs.getMessageLang(\"No records found\", vaContext.getRequesterLang())"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n"}},{"type":"Decision","type":"Decision","name":"Decision","branches":[{"type":"Branch","type":"Branch","label":"Question Reference Prev","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"},"id":"7d1adf2a3a07422493df4b758e4cc32a","name":"Question Reference Prev"},{"type":"Branch","type":"Branch","label":"Question Reference Next","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"},"id":"58afa608e7a342fe9a4cde26521e1507","name":"Question Reference Next"},{"type":"Branch","type":"Branch","label":"Question Reference Chosen/Skipped","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"},"id":"e0cba90a2de54ed18c0261a403abab69","name":"Question Reference Chosen/Skipped"},{"type":"Branch","type":"Branch","label":"Search Question Reference","expression":{"type":"Applicability","type":"Applicability","mode":"script","value":"(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"},"id":"5b7784813bd14dba948ad3dc05e62e4f","name":"Search Question Reference"}],"id":"fae8e75c27bb4dbf894c365024ebd4b6","goal_id":"primary"},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();","id":"5aee16e73cbd4aceb744efa4e7266af6","name":"Question Reference Prev Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();","id":"c6b98034204541009423391a3a795754","name":"Question Reference Next Page","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","type":"ScriptedAction","script":"(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()","id":"1eb21d553b644d05ab10c2b5b58033d5","name":"Set Question Reference Value","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","type":"LibraryCall","library_topic_name":"End state card for Catalog Request","library_topic_id":"0b01391550d30110fa9b861f7d83d7f6","parameter-mappings":[{"parameter-name":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}},{"parameter-name":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"},"metadata":{"type":"String","list":false,"items":[],"use_items":false}}],"return-value-mappings":[],"id":"328bc3fa4b7c4033a89280571c2afe68","name":"End state card","goal_id":"primary","applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"}}],"edges":[{"type":"Edge","source_node_id":"328bc3fa4b7c4033a89280571c2afe68","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","id":"be98ff0580264237a393c489faff3023"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"d14db90c8e5d453fb8faf9b3102c93f8","branch_id":"2ee44b5e2eed42788f70e4fa1fbb9832","id":"c881ed0698ba4748942574185c5cb9aa","name":"2ee44b5e2eed42788f70e4fa1fbb9832"},{"type":"Edge","source_node_id":"3529e87fc7aa412b8cbf6b4f72d55ef5","target_node_id":"ce52248e0a4843569613ec3a7d504ecc","id":"23ad6a4519444b159cf5d8a58b388f77"},{"type":"Edge","source_node_id":"47a4f654e8c44863b85a365bb54890d9","target_node_id":"0abf0a646a07407a8a4dd32682de0e12","id":"ed4377209bdf4f8e9749027fbf8bcc2d"},{"type":"Edge","source_node_id":"6ae2344c804b443e8a27a526ebc232e2","target_node_id":"cd29901fbcab4b728ed9596897e893e9","id":"21ed3a3d80d24dbd809a152e7f9d4e93"},{"type":"Edge","source_node_id":"4616b6d076224bb99754db232b9fa0a4","target_node_id":"f34c18dc441d45ab9285a16451b0b7ab","branch_id":"d06caded7b6f4760b187bf7cafaa7507","id":"1e751649fe0849baaff1a41055ddc639","name":"d06caded7b6f4760b187bf7cafaa7507"},{"type":"Edge","source_node_id":"261d180638b34915b8d83502523bd71d","target_node_id":"ccfaa04972f249548acf35d12e20512f","branch_id":"feca087d0b44494a83508ef56961569e","id":"e114f53b64344575ae0cabcf54b3eade","name":"feca087d0b44494a83508ef56961569e"},{"type":"Edge","source_node_id":"f18bda6305984ec8bc8eb8ca629599ca","target_node_id":"1fcdcbce981c4a69a43c692aa0fff7da","id":"9340ac5accdf4e89bfbc093011dfb2a8"},{"type":"Edge","source_node_id":"7cd5890cfdc343e09bc999e908c8a5b9","target_node_id":"d002d97da5f04569b964b72d0511a6d3","id":"5eda4e57e20a47dcbabcae565b585ffd"},{"type":"Edge","source_node_id":"d002d97da5f04569b964b72d0511a6d3","target_node_id":"bc85a628bdd042b683eae6276c770ac9","id":"c20b53e5cd2b406fad12b17e2da7a482"},{"type":"Edge","source_node_id":"bc85a628bdd042b683eae6276c770ac9","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"bcd2f46c8aaa4d34a06c083f0003dd29","id":"d93c8c3125e446d7854047f2b32aee5a","name":"bcd2f46c8aaa4d34a06c083f0003dd29"},{"type":"Edge","source_node_id":"bc85a628bdd042b683eae6276c770ac9","target_node_id":"ed44baf15459462094b5fb3b80020c18","branch_id":"0738790a34fb48498148b459e228eb84","id":"f1f89aa673534fc89ab17ce91d308c71","name":"0738790a34fb48498148b459e228eb84"},{"type":"Edge","source_node_id":"ed44baf15459462094b5fb3b80020c18","target_node_id":"f641789166c14ab594da888a7e94ba01","branch_id":"8b3fbe08c9e14a8db73d7c9b4fcd72a5","id":"69e85257ac184e3382700924e0d1d7b4","name":"8b3fbe08c9e14a8db73d7c9b4fcd72a5"},{"type":"Edge","source_node_id":"f641789166c14ab594da888a7e94ba01","target_node_id":"d5920ae874e544fdb45940dd353a40a5","branch_id":"d8108911db014c8089dfbe02e6a1a4ba","id":"eeb252181a01486787e2344add2e6476","name":"d8108911db014c8089dfbe02e6a1a4ba"},{"type":"Edge","source_node_id":"f641789166c14ab594da888a7e94ba01","target_node_id":"4c6f66a159044ac3892b48b033fdc2a3","branch_id":"afaa6b4d18764de5bf95bed994c02fb9","id":"5ed6c81d2e3f4353b3c139d73d468607","name":"afaa6b4d18764de5bf95bed994c02fb9"},{"type":"Edge","source_node_id":"4c6f66a159044ac3892b48b033fdc2a3","target_node_id":"d5920ae874e544fdb45940dd353a40a5","id":"c58d82ed9b3d486cb13b4016dbc6c596"},{"type":"Edge","source_node_id":"261d180638b34915b8d83502523bd71d","target_node_id":"6cf92f67176e4c92946b8baae7627a02","branch_id":"53dcadd192f04523b61b5df7408a55c4","id":"c620209b185e434495dc85a7d807ab01","name":"53dcadd192f04523b61b5df7408a55c4"},{"type":"Edge","source_node_id":"6cf92f67176e4c92946b8baae7627a02","target_node_id":"11e8fe287c814f17975368bf10d617f7","id":"bf610e8c62cf47959a124c6c27727b46"},{"type":"Edge","source_node_id":"11e8fe287c814f17975368bf10d617f7","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"63d29e6835834a24b7899c39454b57b4","id":"df2c2cd6a26f441a8cfa1915993ca48b","name":"63d29e6835834a24b7899c39454b57b4"},{"type":"Edge","source_node_id":"ccfaa04972f249548acf35d12e20512f","target_node_id":"1aba04f33fde4914be67f21e7c0c42cc","id":"594e618c57ee429d87e7b21359797d29"},{"type":"Edge","source_node_id":"1aba04f33fde4914be67f21e7c0c42cc","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"74270baca2e54400a799b02b885d1dff","id":"b391e58cea8341e496bdb53256de528f","name":"74270baca2e54400a799b02b885d1dff"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"c77451fa65bd48f1bc5cfd729eea8a82","branch_id":"f50af1a24d5e479da9e5d93908b8f9fe","id":"2cae70ae19dc45e4a0567c61141023c7","name":"f50af1a24d5e479da9e5d93908b8f9fe"},{"type":"Edge","source_node_id":"c77451fa65bd48f1bc5cfd729eea8a82","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"e3c2fe5139c64372baea461bdefa6ed3"},{"type":"Edge","source_node_id":"c52a1149520047d5a73c9ebe61a036b3","target_node_id":"a131dcce52b44cf0a774e8fde61504e5","id":"9278e1ba3e274f0caf18d711187aac16"},{"type":"Edge","source_node_id":"a131dcce52b44cf0a774e8fde61504e5","target_node_id":"499a44abe9c948919a0ef4c9fe7c560c","branch_id":"5a59cfc95f4b4374b9615e5843c64b6e","id":"59483ee9066f4b398f8e281caf284118","name":"5a59cfc95f4b4374b9615e5843c64b6e"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"d8482236657c4d96a0d3021b049ac6a4","branch_id":"188c4299909e4776b55ca5dc61b4e812","id":"6da5131146f34bb786f802489f17a46e","name":"188c4299909e4776b55ca5dc61b4e812"},{"type":"Edge","source_node_id":"ed44baf15459462094b5fb3b80020c18","target_node_id":"ea37f26cd54f41d5afa339eda82ce401","branch_id":"64e324d8f1104e5091878dc2ec250809","id":"33186ed90d084bbaafee8d3ea8bfd253","name":"64e324d8f1104e5091878dc2ec250809"},{"type":"Edge","source_node_id":"ea37f26cd54f41d5afa339eda82ce401","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","id":"4c89490e73c447a1bb7c9c18d61f4f67"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"317d6ff924de42a69cb743250b9024bb","branch_id":"ae8b4ec3a2af4208954bd78c4809e5aa","id":"d4384bcaccc84b4d98230db0f7bb2c05","name":"ae8b4ec3a2af4208954bd78c4809e5aa"},{"type":"Edge","source_node_id":"317d6ff924de42a69cb743250b9024bb","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"5c41a1d10e1345ba8a49dd61d04ca219"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"4497edbf6ff7404390a5ea8858332193","branch_id":"fd7e19812cff46719739667c395d8bef","id":"e6866483861c4040aa90c80772ecbcb2","name":"fd7e19812cff46719739667c395d8bef"},{"type":"Edge","source_node_id":"4497edbf6ff7404390a5ea8858332193","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"a91434d3ce5a4328858e480a59e8fea1"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"a451218ded67479a98ea469d15c6efa6","branch_id":"a6eec00c6073419abe6faf8e3ddd990b","id":"df7786a9976e4fe385de091233094412","name":"a6eec00c6073419abe6faf8e3ddd990b"},{"type":"Edge","source_node_id":"a451218ded67479a98ea469d15c6efa6","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"fefaef1f5d0b4db3a8ea53320d13f9a6"},{"type":"Edge","source_node_id":"d14db90c8e5d453fb8faf9b3102c93f8","target_node_id":"3afec8fdc43141bf9e8dd49c225fe574","id":"bded90489fcc4d368905bb68aa77ad2f"},{"type":"Edge","source_node_id":"3afec8fdc43141bf9e8dd49c225fe574","target_node_id":"4616b6d076224bb99754db232b9fa0a4","id":"d0bb4ca8297347b483c74fb082b4acbf"},{"type":"Edge","source_node_id":"f34c18dc441d45ab9285a16451b0b7ab","target_node_id":"3afec8fdc43141bf9e8dd49c225fe574","id":"5941c090c7894834a7b0fd5674b9f967"},{"type":"Edge","source_node_id":"4616b6d076224bb99754db232b9fa0a4","target_node_id":"d14db90c8e5d453fb8faf9b3102c93f8","branch_id":"1cd77995476c40f981d985a7391170f6","id":"6977fb458e5845218b43e9a8f0bed75e","name":"1cd77995476c40f981d985a7391170f6"},{"type":"Edge","source_node_id":"4616b6d076224bb99754db232b9fa0a4","target_node_id":"9263cf2e0fb34eb0b568f18794426637","branch_id":"c6ff3cbdb6dd43c49d12031a128a5381","id":"9eac5a28efd74ba5ab0407a660fbc04a","name":"c6ff3cbdb6dd43c49d12031a128a5381"},{"type":"Edge","source_node_id":"9263cf2e0fb34eb0b568f18794426637","target_node_id":"5c02b3e84a3244e9bb33ad8aa3048317","id":"618ce1813eb94a45b1d6b9b947d2ccbe"},{"type":"Edge","source_node_id":"5c02b3e84a3244e9bb33ad8aa3048317","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"7f24105a1edd44ca95f2ab81f7bcbf00","id":"1d9bc868bd694225804e3c28c6ea921c","name":"7f24105a1edd44ca95f2ab81f7bcbf00"},{"type":"Edge","source_node_id":"4616b6d076224bb99754db232b9fa0a4","target_node_id":"ce76060cc59b448b8fdfbca0dfa1b404","branch_id":"616a5178bdea4361ac77f45849c447d0","id":"628a18d6d2154f3d9d5fa557c5fcf348","name":"616a5178bdea4361ac77f45849c447d0"},{"type":"Edge","source_node_id":"ce76060cc59b448b8fdfbca0dfa1b404","target_node_id":"3afec8fdc43141bf9e8dd49c225fe574","id":"2731e117f7d34aa2af7684a2ea26055f"},{"type":"Edge","source_node_id":"5c02b3e84a3244e9bb33ad8aa3048317","target_node_id":"3d66989b1eb84483bbf425275ab01a66","branch_id":"d7e5e4c65fcc42f092dbec0b07357cbc","id":"4382591108da46ffa78003ad4d1a38e2","name":"d7e5e4c65fcc42f092dbec0b07357cbc"},{"type":"Edge","source_node_id":"3d66989b1eb84483bbf425275ab01a66","target_node_id":"a33575618f65456f9332129eb86060fd","id":"d1062ab9804c4da09d18a4aa0f1b4c50"},{"type":"Edge","source_node_id":"a33575618f65456f9332129eb86060fd","target_node_id":"d14db90c8e5d453fb8faf9b3102c93f8","branch_id":"81e2e77ba90f4b9f9b59245a3d805811","id":"9e5446f0e7254901ad8d4e6c8bf61a84","name":"81e2e77ba90f4b9f9b59245a3d805811"},{"type":"Edge","source_node_id":"a33575618f65456f9332129eb86060fd","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"aa779fbd03bf479eb22e8d857ad6e5ad","id":"f53cc05a12ff4efd9c33d1a43abacf3a","name":"aa779fbd03bf479eb22e8d857ad6e5ad"},{"type":"Edge","source_node_id":"a131dcce52b44cf0a774e8fde61504e5","target_node_id":"aab3d1ac74cb48a7a56a5967e233014b","branch_id":"89ad642021b3409a94116bc994af9a85","id":"36502171837348e28b177eed7045c9b1","name":"89ad642021b3409a94116bc994af9a85"},{"type":"Edge","source_node_id":"aab3d1ac74cb48a7a56a5967e233014b","target_node_id":"d5920ae874e544fdb45940dd353a40a5","branch_id":"046f1214f10c436086ffb6c1ce7af88a","id":"3a02bc2b94704b76ac2d133db203dde7","name":"046f1214f10c436086ffb6c1ce7af88a"},{"type":"Edge","source_node_id":"aab3d1ac74cb48a7a56a5967e233014b","target_node_id":"8dc7837373ac4eaa80563c150ea22e68","branch_id":"f5b174ac1d0f46dfbea7bc92b4f02522","id":"3f434f93a2bc4f489411fcf1ebaf8a05","name":"f5b174ac1d0f46dfbea7bc92b4f02522"},{"type":"Edge","source_node_id":"8dc7837373ac4eaa80563c150ea22e68","target_node_id":"d5920ae874e544fdb45940dd353a40a5","id":"793bd6dbacaa447db9d39d2605c3b3db"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"e8b98ee6dd1d4ef49f0d6b083382fe2e","id":"71b030a668e043d0a1a082587a2e2029","name":"e8b98ee6dd1d4ef49f0d6b083382fe2e"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"ccdfd59a6afb4539a83b2130238b013e","branch_id":"251d689857314e9b8fab033aa221fe4e","id":"54e5039c407649e993d80f7a826cb76c","name":"251d689857314e9b8fab033aa221fe4e"},{"type":"Edge","source_node_id":"ccdfd59a6afb4539a83b2130238b013e","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"1b7d8835c1a544e3850cf69c01f06ae1"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"5a7d96634e294337ac51846a69c45192","branch_id":"66eb040857d748bd87ee867b8edfd157","id":"4cb6bb610bac472eb277b16dcf741643","name":"66eb040857d748bd87ee867b8edfd157"},{"type":"Edge","source_node_id":"5a7d96634e294337ac51846a69c45192","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"84d876cf7615435e9e4659110ef15b3b"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"a7193adfa51648e4bc307f13075a9db1","branch_id":"519de07df372492abebab4e9c745c83a","id":"8443ce39819a4e0fb2d5933d96c008b8","name":"519de07df372492abebab4e9c745c83a"},{"type":"Edge","source_node_id":"a7193adfa51648e4bc307f13075a9db1","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"7fdb991bf4f349199bc2db751da781c4"},{"type":"Edge","source_node_id":"d5920ae874e544fdb45940dd353a40a5","target_node_id":"62459bf52fe64a8e965a3b13f12c349a","branch_id":"39c3e327e12e4c7b98bf7fdd3a3eb2a6","id":"53a95971b5d743b4baabd1959fb1dbd7","name":"39c3e327e12e4c7b98bf7fdd3a3eb2a6"},{"type":"Edge","source_node_id":"62459bf52fe64a8e965a3b13f12c349a","target_node_id":"261d180638b34915b8d83502523bd71d","branch_id":"777e1f25aa2a47639623e8317037e777","id":"d09cd876d30b4e43aa5c06e2ff64f558","name":"777e1f25aa2a47639623e8317037e777"},{"type":"Edge","source_node_id":"62459bf52fe64a8e965a3b13f12c349a","target_node_id":"b15ae21d6bb54761aef71add5ee7cadb","branch_id":"ced37f0980044e4d9d03cde1780803b8","id":"3d14d60752b342d5b4541c45d078925e","name":"ced37f0980044e4d9d03cde1780803b8"},{"type":"Edge","source_node_id":"b15ae21d6bb54761aef71add5ee7cadb","target_node_id":"e508c97ac8b74e6aab119ad8e5a34a6e","id":"9962f41cf0224d3db54e3e667638deef"},{"type":"Edge","source_node_id":"e508c97ac8b74e6aab119ad8e5a34a6e","target_node_id":"261d180638b34915b8d83502523bd71d","branch_id":"8460761ecfb8463685f4c6eab94ca348","id":"6a0efea7d4db4bdab9c50e1e3a59eed9","name":"8460761ecfb8463685f4c6eab94ca348"},{"type":"Edge","source_node_id":"e508c97ac8b74e6aab119ad8e5a34a6e","target_node_id":"218b35c5d2924d08bf0bcc9d7fc8d5e9","branch_id":"afce464e02d14a7ea3eb0b1d4ad43c81","id":"09f35327ec7546cb92a4a4c028e45142","name":"afce464e02d14a7ea3eb0b1d4ad43c81"},{"type":"Edge","source_node_id":"cd29901fbcab4b728ed9596897e893e9","target_node_id":"6a7140d7876c4975a89b598d7be64fed","id":"23cff8c4005448708d8abe4fe54c4812"},{"type":"Edge","source_node_id":"6a7140d7876c4975a89b598d7be64fed","target_node_id":"218b35c5d2924d08bf0bcc9d7fc8d5e9","branch_id":"dcadb0a9cf224ab88cf7f753d738f2e2","id":"0ff0d48a6efc4dd5b1c4678f78b4d17c","name":"dcadb0a9cf224ab88cf7f753d738f2e2"},{"type":"Edge","source_node_id":"6a7140d7876c4975a89b598d7be64fed","target_node_id":"261d180638b34915b8d83502523bd71d","branch_id":"51617d771d9b476498326bf5a21dc8cf","id":"5acda6f7fac2433395b1107438050bc2","name":"51617d771d9b476498326bf5a21dc8cf"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"47a4f654e8c44863b85a365bb54890d9","branch_id":"a6d00336df454a80a7ef4a3bc0bc641a","id":"3152a09a812c4f64a7e779211d57f68e","name":"a6d00336df454a80a7ef4a3bc0bc641a"},{"type":"Edge","source_node_id":"0abf0a646a07407a8a4dd32682de0e12","target_node_id":"0f348f7238fb47199769718b2b2e48c0","id":"6a1debd2df7c4f05bb291c8c7d9bb7f5"},{"type":"Edge","source_node_id":"0f348f7238fb47199769718b2b2e48c0","target_node_id":"aab3d1ac74cb48a7a56a5967e233014b","branch_id":"e3635c62ba394dc2b2d334ca2fd77754","id":"c0db607483664dc4aecbc2937df2f348","name":"e3635c62ba394dc2b2d334ca2fd77754"},{"type":"Edge","source_node_id":"0f348f7238fb47199769718b2b2e48c0","target_node_id":"8b187af891b14cab84169ec01d560c57","branch_id":"18f3d3746e674fdfb72cff2009993c03","id":"d6b82b373a5a4d89b80c493eef073a42","name":"18f3d3746e674fdfb72cff2009993c03"},{"type":"Edge","source_node_id":"8b187af891b14cab84169ec01d560c57","target_node_id":"47a4f654e8c44863b85a365bb54890d9","id":"28b9b12b5c1b4750bc376a0f2bcfa995"},{"type":"Edge","source_node_id":"d8482236657c4d96a0d3021b049ac6a4","target_node_id":"1aa509c0eea748fd85a1bfa66124628e","id":"854f6d0a424845ed81057700754432c7"},{"type":"Edge","source_node_id":"1aa509c0eea748fd85a1bfa66124628e","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"b3ee980b5af24ac68aedd5889a3d4477","id":"66d06f1c8e5541cdb9db4d51f571c117","name":"b3ee980b5af24ac68aedd5889a3d4477"},{"type":"Edge","source_node_id":"1aa509c0eea748fd85a1bfa66124628e","target_node_id":"54dd79b4bf7b412bae45dfab7604aeb9","branch_id":"0d88da456dfb46bb867782193aab59cc","id":"bd8563b771f9448c9df1db201e5753a3","name":"0d88da456dfb46bb867782193aab59cc"},{"type":"Edge","source_node_id":"54dd79b4bf7b412bae45dfab7604aeb9","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"0077c2b48d754a54b895367ebbdf8ed4","id":"4575bfdb59854dc9baed814dd5aae0b0","name":"0077c2b48d754a54b895367ebbdf8ed4"},{"type":"Edge","source_node_id":"54dd79b4bf7b412bae45dfab7604aeb9","target_node_id":"faef557696f1480980683767ae84d71d","branch_id":"c0b88f6dd58b4ddeab48b2b76e8a39e5","id":"1244e04f6468455aa8f076b9bd2c6481","name":"c0b88f6dd58b4ddeab48b2b76e8a39e5"},{"type":"Edge","source_node_id":"faef557696f1480980683767ae84d71d","target_node_id":"cc580e5e882644e2997145318291f690","id":"14c2c868b875406e85b822e86773ff46"},{"type":"Edge","source_node_id":"cc580e5e882644e2997145318291f690","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"172aa72acca9400f8fc0f7e95d560725","id":"68639a8f2c8e41f1bb2178d1a3808cbe","name":"172aa72acca9400f8fc0f7e95d560725"},{"type":"Edge","source_node_id":"cc580e5e882644e2997145318291f690","target_node_id":"725884c3f6644b6e9c3e5f89a26df9a7","branch_id":"7e6d00bd465b454d8461d50e301462c2","id":"e20bf93f55fb4046bc9964cd64645533","name":"7e6d00bd465b454d8461d50e301462c2"},{"type":"Edge","source_node_id":"725884c3f6644b6e9c3e5f89a26df9a7","target_node_id":"95bf47409fc24baa931b31408fc88964","id":"6d4528a0e2714c1abef0928ad39e543a"},{"type":"Edge","source_node_id":"95bf47409fc24baa931b31408fc88964","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"4f9a39856da441e095912be3ad714d7e","id":"59fe485dbd3b4ceb824da86ebfa1ee1c","name":"4f9a39856da441e095912be3ad714d7e"},{"type":"Edge","source_node_id":"95bf47409fc24baa931b31408fc88964","target_node_id":"386a957769a744cea48ff14f350da385","branch_id":"26d19782b8824c7f8847c40efaaeb186","id":"43d18c2cd07749f49ae21b39b89c528b","name":"26d19782b8824c7f8847c40efaaeb186"},{"type":"Edge","source_node_id":"006a04921db04721aa903237a20c5e28","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"9082643693ed48ff8cdc0f7c2e533b82","id":"a9274fae301948a2a45c2ef17b5bd37b","name":"9082643693ed48ff8cdc0f7c2e533b82"},{"type":"Edge","source_node_id":"006a04921db04721aa903237a20c5e28","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"c2b463de0a6f4e71865d303d2fade920","id":"7fab731efd6949daa3a9ee59d44a43a1","name":"c2b463de0a6f4e71865d303d2fade920"},{"type":"Edge","source_node_id":"386a957769a744cea48ff14f350da385","target_node_id":"2468ee95a31d432bb1e65386480e8bea","id":"fdae2ea42ec54ecfa41d4b1e4edcc823"},{"type":"Edge","source_node_id":"2468ee95a31d432bb1e65386480e8bea","target_node_id":"006a04921db04721aa903237a20c5e28","id":"dfedd887e2de4e5dbee72b8686620703"},{"type":"Edge","source_node_id":"1fcdcbce981c4a69a43c692aa0fff7da","target_node_id":"04d257b05a4b4ba18d8cedb1550a80ec","id":"338a59fe96e745d7a646d9f270641482"},{"type":"Edge","source_node_id":"04d257b05a4b4ba18d8cedb1550a80ec","target_node_id":"7cd5890cfdc343e09bc999e908c8a5b9","branch_id":"fbde11b02eb34c088efba9b1a612d131","id":"70e4a26d912c4e59bc54e21f39af32f9","name":"fbde11b02eb34c088efba9b1a612d131"},{"type":"Edge","source_node_id":"04d257b05a4b4ba18d8cedb1550a80ec","target_node_id":"d5920ae874e544fdb45940dd353a40a5","branch_id":"c272351ce782473392b714cdf086e8fd","id":"6d71c1d8d8da43febcd80ecb76b3148b","name":"c272351ce782473392b714cdf086e8fd"},{"type":"Edge","source_node_id":"1aba04f33fde4914be67f21e7c0c42cc","target_node_id":"1526e3762e144a208126ccc5e4ecea1a","branch_id":"370cf28558fe4285a1841b2cc04a7d57","id":"fb1e399c2c304862baa118364b103420","name":"370cf28558fe4285a1841b2cc04a7d57"},{"type":"Edge","source_node_id":"1526e3762e144a208126ccc5e4ecea1a","target_node_id":"f271826512564c5c9fa869c1528caa78","branch_id":"1865f2bd812e488b98a691880bf9c362","id":"6d4d33c06b6a4097aef4c752df90a666","name":"1865f2bd812e488b98a691880bf9c362"},{"type":"Edge","source_node_id":"1526e3762e144a208126ccc5e4ecea1a","target_node_id":"aade5afa9db14063b993606281b634f3","branch_id":"21c78b1cc6684ed5a6ac773c9aefff0e","id":"966979704ad54140b20035bc0f2979f0","name":"21c78b1cc6684ed5a6ac773c9aefff0e"},{"type":"Edge","source_node_id":"11e8fe287c814f17975368bf10d617f7","target_node_id":"fee819ce088548239b8aaf8cabf326a1","branch_id":"e752c4c004f14c168187fd9759dcb350","id":"5ee930b997aa4cedab2f4d11cab232a4","name":"e752c4c004f14c168187fd9759dcb350"},{"type":"Edge","source_node_id":"fee819ce088548239b8aaf8cabf326a1","target_node_id":"3529e87fc7aa412b8cbf6b4f72d55ef5","branch_id":"df392f73c6b84a8789dcf03cad24231d","id":"599c89805e7c4804812ca817159b04e9","name":"df392f73c6b84a8789dcf03cad24231d"},{"type":"Edge","source_node_id":"fee819ce088548239b8aaf8cabf326a1","target_node_id":"aade5afa9db14063b993606281b634f3","branch_id":"0c92543becfd4233a3b9fdee0f61d0c8","id":"373ee111996044a3af6363296dd08c20","name":"0c92543becfd4233a3b9fdee0f61d0c8"},{"type":"Edge","source_node_id":"aade5afa9db14063b993606281b634f3","target_node_id":"19558f3227ea492a9ef50ebaee5211a8","id":"bd0c9c90e36445459fdde47fd9e2dd26"},{"type":"Edge","source_node_id":"19558f3227ea492a9ef50ebaee5211a8","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","id":"647ea7096ce445178352c1dba8adc4ff"},{"type":"Edge","source_node_id":"218b35c5d2924d08bf0bcc9d7fc8d5e9","target_node_id":"eb06748dacb74a88aeb61fb22d660353","id":"978aa69ea942454ba900defb89ca136b"},{"type":"Edge","source_node_id":"eb06748dacb74a88aeb61fb22d660353","target_node_id":"6ae2344c804b443e8a27a526ebc232e2","branch_id":"c0e51261a5ab43feb1f5475cae2b8920","id":"2e8dc9a1b70943a28ac6a33634486a60","name":"c0e51261a5ab43feb1f5475cae2b8920"},{"type":"Edge","source_node_id":"eb06748dacb74a88aeb61fb22d660353","target_node_id":"261d180638b34915b8d83502523bd71d","branch_id":"c7919af0fc8f47b294f11b7faaefd741","id":"3e5a9145ab3a4f7e99f282d52d84bc93","name":"c7919af0fc8f47b294f11b7faaefd741"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"4146a9d7a93647a18a630b954c913466","branch_id":"e16c061a625547db9567a9e4b052ecf4","id":"8048d89a27b4465997e356a83369de7b","name":"e16c061a625547db9567a9e4b052ecf4"},{"type":"Edge","source_node_id":"4146a9d7a93647a18a630b954c913466","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"fa500d394d754f1f9d3c3c44cf36ae5c"},{"type":"Edge","source_node_id":"d5920ae874e544fdb45940dd353a40a5","target_node_id":"2e7752c0933d4139bb7635bc616c5abd","branch_id":"76c2695948594b56b373dd2c5366329a","id":"7a086874efe3468dac80b939e1845fae","name":"76c2695948594b56b373dd2c5366329a"},{"type":"Edge","source_node_id":"2e7752c0933d4139bb7635bc616c5abd","target_node_id":"ca0b86cc454b4720a403bb42705fd391","id":"773330f1ca8e417cb7ed34851dda12df"},{"type":"Edge","source_node_id":"ca0b86cc454b4720a403bb42705fd391","target_node_id":"0ba16baaee164e188eb7517e1d7907d7","id":"c6693aad5e0c4aaab797f9ab2259c37e"},{"type":"Edge","source_node_id":"0ba16baaee164e188eb7517e1d7907d7","target_node_id":"822ef315be27448f86176b30a0b57a69","branch_id":"84d8ddc12e2045de8c5a7d25adbd296d","id":"ede5c963234e4be2908c93c6f82d5f8e","name":"84d8ddc12e2045de8c5a7d25adbd296d"},{"type":"Edge","source_node_id":"0ba16baaee164e188eb7517e1d7907d7","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","branch_id":"2ca8463c93ca44d59736c639688fcf59","id":"20c032f81f254ac0883b7f578e40d95a","name":"2ca8463c93ca44d59736c639688fcf59"},{"type":"Edge","source_node_id":"f271826512564c5c9fa869c1528caa78","target_node_id":"ce52248e0a4843569613ec3a7d504ecc","id":"54021b8b9ba742158f39a8bd129f6331"},{"type":"Edge","source_node_id":"ce52248e0a4843569613ec3a7d504ecc","target_node_id":"b2f6f97c0f1447738d3d661e2155ebe3","branch_id":"54775e1ae2244d2b90b7be23b625d6a4","id":"3736ab1f0be740659262eeaa0f8d5438","name":"54775e1ae2244d2b90b7be23b625d6a4"},{"type":"Edge","source_node_id":"499a44abe9c948919a0ef4c9fe7c560c","target_node_id":"725220686d9748e8a330f7051c2337b9","id":"0295faed240b4dd78bffc60beef98724"},{"type":"Edge","source_node_id":"725220686d9748e8a330f7051c2337b9","target_node_id":"d8482236657c4d96a0d3021b049ac6a4","branch_id":"91f9819022f84dbf8e7d90da150070db","id":"3c6cea4610b049f4aceb86cf7d4920ec","name":"91f9819022f84dbf8e7d90da150070db"},{"type":"Edge","source_node_id":"725220686d9748e8a330f7051c2337b9","target_node_id":"ccdfd59a6afb4539a83b2130238b013e","branch_id":"1e66385e9aa941cc956ec2b8226bd860","id":"bd88b942b661467299c18302862b5f0c","name":"1e66385e9aa941cc956ec2b8226bd860"},{"type":"Edge","source_node_id":"725220686d9748e8a330f7051c2337b9","target_node_id":"5a7d96634e294337ac51846a69c45192","branch_id":"2f6b48fb20834948ab9cf03f19a02eae","id":"656977875feb48cc932e5c6e9d5104da","name":"2f6b48fb20834948ab9cf03f19a02eae"},{"type":"Edge","source_node_id":"725220686d9748e8a330f7051c2337b9","target_node_id":"a7193adfa51648e4bc307f13075a9db1","branch_id":"f37dd4adb59041768ca6318447d9649d","id":"40fdb5151a484a698340014615e2227e","name":"f37dd4adb59041768ca6318447d9649d"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"f403deab25b04861926dd1caf3bd0780","branch_id":"bcc642ee761d4456b73b429ae7bd3683","id":"bae399de00a84a699ad2bb2fb0ccfc07","name":"bcc642ee761d4456b73b429ae7bd3683"},{"type":"Edge","source_node_id":"f403deab25b04861926dd1caf3bd0780","target_node_id":"39b352bf0cf146a5813580386d9f666c","branch_id":"678c3421bbd644a08eacca4996b7d495","id":"2499c3f5414444e5a4be9a922b89ad39","name":"678c3421bbd644a08eacca4996b7d495"},{"type":"Edge","source_node_id":"f403deab25b04861926dd1caf3bd0780","target_node_id":"86df3902bd3c428c8579737431350cfc","branch_id":"ed2300120ebb4384bb7864629dd4d751","id":"8e2a59863be74c9496ce52bcfcaa3119","name":"ed2300120ebb4384bb7864629dd4d751"},{"type":"Edge","source_node_id":"86df3902bd3c428c8579737431350cfc","target_node_id":"93318b7d304c4f5d87f7ac7df0fb5594","id":"0e25d14c8ddd415e9567603812e1cb85"},{"type":"Edge","source_node_id":"93318b7d304c4f5d87f7ac7df0fb5594","target_node_id":"c4c7f93e774d4dd9b3e19400a83ed3f7","branch_id":"26c5ddc4192343468dcc484effb66d7e","id":"c73e7f1b945a4f86bea1e5784a452e95","name":"26c5ddc4192343468dcc484effb66d7e"},{"type":"Edge","source_node_id":"c4c7f93e774d4dd9b3e19400a83ed3f7","target_node_id":"86df3902bd3c428c8579737431350cfc","id":"07771b68789247ada05e42fa9819aecd"},{"type":"Edge","source_node_id":"93318b7d304c4f5d87f7ac7df0fb5594","target_node_id":"b593e0f1190a42aabd6a81a6627715ab","branch_id":"0bb366cca7974b66a0057fa5bffce264","id":"ef41a04fffb942aba133ea22acb5040e","name":"0bb366cca7974b66a0057fa5bffce264"},{"type":"Edge","source_node_id":"b593e0f1190a42aabd6a81a6627715ab","target_node_id":"86df3902bd3c428c8579737431350cfc","id":"8e7828b0bd2e4ba28f4591163b8c45b4"},{"type":"Edge","source_node_id":"93318b7d304c4f5d87f7ac7df0fb5594","target_node_id":"03913b036e7542cc819ebe9a91d71e36","branch_id":"a2c0f085eb01476b96a9c9ed1b589f20","id":"e703a3f1203f42d78ff4b05c88c29118","name":"a2c0f085eb01476b96a9c9ed1b589f20"},{"type":"Edge","source_node_id":"39b352bf0cf146a5813580386d9f666c","target_node_id":"03913b036e7542cc819ebe9a91d71e36","id":"0644804517ae40d79f8fd31361e80afa"},{"type":"Edge","source_node_id":"03913b036e7542cc819ebe9a91d71e36","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"79f420d9627e4b46a6d11f67bd5e8eed"},{"type":"Edge","source_node_id":"822ef315be27448f86176b30a0b57a69","target_node_id":"f01a3c9cf86142c4beee73bbf60a0907","branch_id":"28f06e03fa71408992a851bacb398737","id":"3e2b3609887545e0bf05c1ce853d84db","name":"28f06e03fa71408992a851bacb398737"},{"type":"Edge","source_node_id":"f01a3c9cf86142c4beee73bbf60a0907","target_node_id":"ed4708d2bb154831a65fed6c4b56b79b","branch_id":"69a371ed70774351a5e114335cc26768","id":"6e0b6e76608f460fb7fd3d7046be56d2","name":"69a371ed70774351a5e114335cc26768"},{"type":"Edge","source_node_id":"f01a3c9cf86142c4beee73bbf60a0907","target_node_id":"6565361f242b4825a32cf52c0f493819","branch_id":"814cfab1d337424ab95c95d8cd618b7a","id":"bcd7e0eab61a411db743d74582734762","name":"814cfab1d337424ab95c95d8cd618b7a"},{"type":"Edge","source_node_id":"6565361f242b4825a32cf52c0f493819","target_node_id":"1fb5f6dbf24f40fd976d42e5842186a1","id":"b029e30fcbbe43a08f1861090113fb81"},{"type":"Edge","source_node_id":"1fb5f6dbf24f40fd976d42e5842186a1","target_node_id":"fae8e75c27bb4dbf894c365024ebd4b6","id":"662e277ebe2344dea5d8da118e39a3f1"},{"type":"Edge","source_node_id":"fae8e75c27bb4dbf894c365024ebd4b6","target_node_id":"5aee16e73cbd4aceb744efa4e7266af6","branch_id":"7d1adf2a3a07422493df4b758e4cc32a","id":"7821240114704fb6b1e186a4c99cfa0d","name":"7d1adf2a3a07422493df4b758e4cc32a"},{"type":"Edge","source_node_id":"5aee16e73cbd4aceb744efa4e7266af6","target_node_id":"1fb5f6dbf24f40fd976d42e5842186a1","id":"d2d4557521af44509bfc214f6e6537c9"},{"type":"Edge","source_node_id":"fae8e75c27bb4dbf894c365024ebd4b6","target_node_id":"c6b98034204541009423391a3a795754","branch_id":"58afa608e7a342fe9a4cde26521e1507","id":"770b92a24b584aa4aeae0a4231d40d6b","name":"58afa608e7a342fe9a4cde26521e1507"},{"type":"Edge","source_node_id":"c6b98034204541009423391a3a795754","target_node_id":"1fb5f6dbf24f40fd976d42e5842186a1","id":"fe16c91af236410ba08d6be2ffd373b6"},{"type":"Edge","source_node_id":"fae8e75c27bb4dbf894c365024ebd4b6","target_node_id":"1eb21d553b644d05ab10c2b5b58033d5","branch_id":"e0cba90a2de54ed18c0261a403abab69","id":"6e105016e4124bb5a753bfad9f94b62c","name":"e0cba90a2de54ed18c0261a403abab69"},{"type":"Edge","source_node_id":"fae8e75c27bb4dbf894c365024ebd4b6","target_node_id":"6565361f242b4825a32cf52c0f493819","branch_id":"5b7784813bd14dba948ad3dc05e62e4f","id":"d63f5a006ea34ddfa0f1c7fff8f79b5e","name":"5b7784813bd14dba948ad3dc05e62e4f"},{"type":"Edge","source_node_id":"ed4708d2bb154831a65fed6c4b56b79b","target_node_id":"1eb21d553b644d05ab10c2b5b58033d5","id":"08204682f3a04469af6d3800146a4d55"},{"type":"Edge","source_node_id":"1eb21d553b644d05ab10c2b5b58033d5","target_node_id":"c52a1149520047d5a73c9ebe61a036b3","id":"263b11f8c521477dacedb77b0a7ae3f6"},{"type":"Edge","source_node_id":"ce52248e0a4843569613ec3a7d504ecc","target_node_id":"328bc3fa4b7c4033a89280571c2afe68","branch_id":"313172002e824673bb5a6eeb855b3a57","id":"b3d9c5a8f75143a19acd0e73d7181e06","name":"313172002e824673bb5a6eeb855b3a57"}],"id":"primary"}],"script_variables":[{"type":"VariableDto","type":"String","name":"itemJSON","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"4aac312378a446459d6d9a7dc88db219","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"itemName","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"e942608ed6ca4c6486eb92fc71e6c68d","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_id","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"7a2c53dea8db465683bf441247dbe5ba","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"record_table","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"a555a867739c4cccb03ae1b5c36da200","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"qIndex","value":{"type":"String","type":"String","mode":"string","value":"-1"},"list":false,"id":"df6a6ce6ba3740ed809b589687ab0809","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"limit","value":{"type":"String","type":"String","mode":"string","value":"7"},"list":false,"id":"d55a25e74cf145bb89f7e62e52f09b9b","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"count","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"f25d4ab291ea4825a40abc2e2d8ea0d2","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"index","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"0775a38b2d6346539bd46b71c761428b","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"validation_message","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"ec032a9f8a2345788c1ba8836cfc9d6a","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"request_for","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},"list":false,"id":"19967a31e8ff4bc8be0eb0f0f625f2ce","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"canView","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return false;\n})()\n"},"list":false,"id":"fafb892c0b904553b7191a0368a04a15","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"unsupportedVarTypes","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"},"list":false,"id":"39daf23c2bb141bfb7b1b314a1bc66a1","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"media_links_form_attachment","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"208e8161db984f73a94cf5c40d658533","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchVariable","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    return '';\n})()\n"},"list":false,"id":"f4da6894fba8488d8e7ebdd39f37d566","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchContext","value":{"type":"String","type":"String","mode":"string","value":"2821675a5b30130070e4492c11f91a89"},"list":false,"id":"2c7b13b854234e329bd3cdff55fd9b6d","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultLimit","value":{"type":"String","type":"String","mode":"string","value":"3"},"list":false,"id":"a865ad1d7ddb46edaf5c7a0dfb96bc9e","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchIndex","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"339d472d234c4fe297ecaac0414280d2","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultJsonString","value":{"type":"String","type":"String","mode":"string"},"list":false,"id":"62d89992e5a84312b03136a1bc7fec80","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"contextualSearchResultCount","value":{"type":"String","type":"String","mode":"string","value":"0"},"list":false,"id":"0acbcaf6224c4874bc5a4ce418a9d18a","formatType":"text","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"no_records_found","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"},"list":false,"id":"b8c0bca27399425a86f09afae6a89252","formatType":"text","secure":false,"sensitive":false}],"glide_variables":[{"type":"VariableDto","type":"String","name":"catalog_item_id","list":false,"id":"0845a14197a54abfa0ed3c3094530f3c","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"8ac34be332244096b75ffdc8931e90cc","name":"proceed","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"2f9517fcebe5464fbdb1d0029eac08f4","name":"submit_producer","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"d95d3689d59c4fb2835666556859452b","name":"order_item","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Date/Time","type":"Date/Time","mode":"date","id":"89ee67709d324252b1097acfbd760d0a","name":"question_date","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_text","list":false,"id":"0bcc541ab0024d63a721e3c361c512e6","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"e72cc9fcb359400ca36bc99dac9b4a9f","name":"question_reference","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Reference","type":"Reference","table":"sys_user","id":"1bde998a8dc947c7b6b673caa16e3391","name":"user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"6da4b36f89cf43179fdafa9f54cbfe0e","name":"question_choice","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"Date/Time","type":"Date/Time","mode":"date_time","id":"beeff529ecbc4f38b1932a34b197adf9","name":"question_date_time","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"7c88e20f614442ca8e5e3f6cf8f407fb","name":"question_requested_for","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_requested_for","list":false,"id":"d63ab2420c294750935e44d7fdb70e67","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"9731ca7237de4f54b93f7f3fb8573a78","name":"request_for_another_user","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"question_email","list":false,"id":"5cec8d23da1f4dd5ab027098434de43e","formatType":"33513d135b1200101f254d3ba881c7d5","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_ip_address","list":false,"id":"d2f9a89bf0db4a32bccb1a0b1240050c","formatType":"a860c5945b2200101f254d3ba881c7df","validationScript":"","secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"question_url","list":false,"id":"efc16df6a2b2439c91b4d334fc21ae47","formatType":"77d8b2935b9200101f254d3ba881c7b9","validationScript":"","secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"2ecf6a4c47d0442085224a82a9578df9","name":"add_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"0fdf82e8310a4270ae7eb058bc677e37","name":"upload_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"2f9f67bfae294d899448a6868d720fde","name":"add_more","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"File","type":"File","id":"8b7b58df3d5b4352ac5f3dd31b8de875","name":"question_attachment","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"VariableDto","type":"String","name":"execute_contextual_search","list":false,"id":"fba0a8de3e6c413696b69761a8ec5e75","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"VariableDto","type":"String","name":"confirm_catalog_item","list":false,"id":"69b77649073541079d83ef02454db839","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false},{"type":"True/False","type":"True/False","id":"148f6abe10f144bc8049e1a7d9970c16","name":"did_articles_help","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"d6bba76e568c4e5cb3f74d27e040add5","name":"proceed_with_default","formatType":"text","secure":false,"sensitive":false,"list":false},{"type":"True/False","type":"True/False","id":"cbac2b71528344b4a4f27b9ca2b11f29","name":"show_end_state_card","formatType":"text","metadata":{"libraryMappingType":"input"},"secure":false,"sensitive":false,"list":false},{"type":"Choice","type":"Choice","choices":[],"id":"8cbeff61ed5343ebb8350cc5c4e68666","name":"question_choice_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""},{"type":"VariableDto","type":"String","name":"search_reference","list":false,"id":"023eea0b3b0e41589ecd3c1060642f77","formatType":"Text","validationScript":"","secure":false,"sensitive":false},{"type":"Choice","type":"Choice","choices":[],"id":"ee743482165e433f80d8b4f684b67f91","name":"question_reference_other_channels","formatType":"text","secure":false,"sensitive":false,"list":false,"table":""}],"applicability":{"type":"Applicability","type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"dc2fa61c1b3611103ddb639bbc4bcbb6","library-usage":{"type":"Library","input-parameters":[{"name":"catalog_item_id","label":"catalog_item_id","default-value":"\"\"","required":true,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"0845a14197a54abfa0ed3c3094530f3c","type":"String","hint":""},{"name":"execute_contextual_search","label":"execute_contextual_search","default-value":"\"false\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"fba0a8de3e6c413696b69761a8ec5e75","type":"String","hint":""},{"name":"confirm_catalog_item","label":"confirm_catalog_item","default-value":"\"true\"","required":false,"metadata":{"type":"String","list":false,"items":[],"use_items":false},"id":"69b77649073541079d83ef02454db839","type":"String","hint":""},{"name":"show_end_state_card","label":"show_end_state_card","default-value":"false","required":false,"metadata":{"type":"True/False","list":false,"items":[],"use_items":false},"id":"cbac2b71528344b4a4f27b9ca2b11f29","type":"True/False"}],"return-values-mapping":[{"name":"record_id","label":"record_id","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_id}}"}},{"name":"record_table","label":"record_table","value":{"type":"String","type":"String","mode":"string","value":"{{vaVars.record_table}}"}},{"name":"variables","label":"variables","value":{"type":"String","type":"String","mode":"script","value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n"}}]},"domain":"global","topic_type":"TOPIC_BLOCK","channels":[],"id":"074f20db1b8421103ddb639bbc4bcb0b","name":"Request CI EDClinic","key_phrases":[],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":true,"autopilot_topic":false,"design_categories":[],"triggerable_by_notification":false,"library":true,"readOnly":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>074f20db1b8421103ddb639bbc4bcb0b</design_topic_id>
        <graph>{
  "graph_api_version": "1.0.41",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "f18bda6305984ec8bc8eb8ca629599ca": {
          "id": "f18bda6305984ec8bc8eb8ca629599ca",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "catalog_item_id",
              "value": "",
              "id": "0845a14197a54abfa0ed3c3094530f3c",
              "disabled": true,
              "referenced": true,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "execute_contextual_search",
              "value": "false",
              "id": "fba0a8de3e6c413696b69761a8ec5e75",
              "referenced": true,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "name": "confirm_catalog_item",
              "value": "true",
              "id": "69b77649073541079d83ef02454db839",
              "referenced": false,
              "disabled": true,
              "type": "String",
              "hint": "",
              "required": false
            },
            {
              "type": "True/False",
              "value": "false",
              "id": "cbac2b71528344b4a4f27b9ca2b11f29",
              "name": "show_end_state_card",
              "referenced": true,
              "disabled": true
            }
          ],
          "variableIds": [
            "0845a14197a54abfa0ed3c3094530f3c",
            "fba0a8de3e6c413696b69761a8ec5e75",
            "69b77649073541079d83ef02454db839",
            "cbac2b71528344b4a4f27b9ca2b11f29"
          ]
        },
        "b2f6f97c0f1447738d3d661e2155ebe3": {
          "id": "b2f6f97c0f1447738d3d661e2155ebe3",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "value": "",
            "mode": "simple"
          },
          "outputVariables": [
            {
              "key": "record_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "vaVars➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "record_table",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "vaVars➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true
            },
            {
              "key": "variables",
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!itemJson.variables)\n        return '';\n    var variablesObj = {};\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n    }\n    return JSON.stringify(variablesObj);\n})()\n",
              "mode": "script",
              "disabled": true
            }
          ]
        },
        "1fcdcbce981c4a69a43c692aa0fff7da": {
          "id": "1fcdcbce981c4a69a43c692aa0fff7da",
          "name": "Set Selected Item",
          "script": "(function execute() {\n    var itemId = vaInputs.catalog_item_id.getValue();\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(itemId);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n    vaVars.itemName = itemJSON.name;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "7cd5890cfdc343e09bc999e908c8a5b9": {
          "id": "7cd5890cfdc343e09bc999e908c8a5b9",
          "stepType": "TextOutput",
          "name": "Item Description",
          "value": [
            {
              "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var response = gs.getMessage(\"Here are some more details about {0}\", vaVars.itemName);\n    if (itemJson.description) \n        return response + itemJson.description;\n\n    return gs.getMessage(\"Selected {0}\", vaVars.itemName);\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "d002d97da5f04569b964b72d0511a6d3": {
          "id": "d002d97da5f04569b964b72d0511a6d3",
          "stepType": "Prompt",
          "name": "Proceed",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Should I proceed with this?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "8ac34be332244096b75ffdc8931e90cc",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "bc85a628bdd042b683eae6276c770ac9": {
          "id": "bc85a628bdd042b683eae6276c770ac9",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ed44baf15459462094b5fb3b80020c18": {
          "id": "ed44baf15459462094b5fb3b80020c18",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f641789166c14ab594da888a7e94ba01": {
          "id": "f641789166c14ab594da888a7e94ba01",
          "stepType": "Decision",
          "name": "Decision"
        },
        "4c6f66a159044ac3892b48b033fdc2a3": {
          "id": "4c6f66a159044ac3892b48b033fdc2a3",
          "stepType": "TextOutput",
          "name": "Start Questions",
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "OK, let's finish up your request."
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "d5920ae874e544fdb45940dd353a40a5": {
          "id": "d5920ae874e544fdb45940dd353a40a5",
          "stepType": "Decision",
          "name": "Decision"
        },
        "261d180638b34915b8d83502523bd71d": {
          "id": "261d180638b34915b8d83502523bd71d",
          "stepType": "Decision",
          "name": "Decision"
        },
        "6cf92f67176e4c92946b8baae7627a02": {
          "id": "6cf92f67176e4c92946b8baae7627a02",
          "stepType": "Prompt",
          "name": "Submit Producer",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2f9517fcebe5464fbdb1d0029eac08f4",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "11e8fe287c814f17975368bf10d617f7": {
          "id": "11e8fe287c814f17975368bf10d617f7",
          "stepType": "Decision",
          "name": "Decision"
        },
        "3529e87fc7aa412b8cbf6b4f72d55ef5": {
          "id": "3529e87fc7aa412b8cbf6b4f72d55ef5",
          "name": "Insert the Record",
          "script": "(function execute() {\n   var itemJson = JSON.parse(vaVars.itemJSON);\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n   var reqObject = {\n       \"sysparm_id\" : itemJson.sys_id,\n       \"sysparm_action\" : 'execute_producer',\n        \"variables\" : variablesObj,\n        \"engagement_channel\" : 'va'\n   }\n   var response = new sn_sc.CatItem(itemJson.sys_id).submitProducer(reqObject);\n   if (response) {\n       vaVars.record_id = response.sys_id;\n       vaVars.record_table = response.table;\n       // add attachment to record\n       var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n       for (var i in mediaLinksFormAttachment)\n           vaSystem.attachToRecord(mediaLinksFormAttachment[i], response.table, response.sys_id);\n\n       // move attachment variable to record\n       var gr = new GlideRecord('sys_attachment');\n       gr.addQuery('sys_id', 'IN' , attachmentIds);\n       gr.query();\n       while (gr.next()) {\n           gr.setValue('table_name', 'ZZ_YY' + response.table);\n           gr.setValue('table_sys_id', response.sys_id);\n           gr.update();\n       }\n   }\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "ccfaa04972f249548acf35d12e20512f": {
          "id": "ccfaa04972f249548acf35d12e20512f",
          "stepType": "Prompt",
          "name": "Order Item",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Alright, you're all set. Shall I submit this request?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "d95d3689d59c4fb2835666556859452b",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "1aba04f33fde4914be67f21e7c0c42cc": {
          "id": "1aba04f33fde4914be67f21e7c0c42cc",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f271826512564c5c9fa869c1528caa78": {
          "id": "f271826512564c5c9fa869c1528caa78",
          "name": "Checkout Cart",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var cartname = \"vacart_\" + gs.generateGUID();\n    var cartObj = new sn_sc.CartJS(cartname);\n    cartObj.setRequestedFor(vaVars.request_for);\n    cartObj.setEngagementChannel('va');\n\n    var variablesObj = {};\n    var attachmentIds = [];\n    for (i = 0; i &lt; itemJson.variables.length; i++) {\n        variablesObj[itemJson.variables[i].name] = itemJson.variables[i].value;\n        if (itemJson.variables[i].type === 33)\n           attachmentIds.push(itemJson.variables[i].value);\n    }\n        \n\n    var reqObj = {\n        \"sysparm_id\" : itemJson.sys_id,\n        \"variables\" : variablesObj\n    };\n    cartObj.addToCart(reqObj);\n    var requestResponse = cartObj.checkoutCart(true);\n    var requestGr = new GlideRecord('sc_request');\n    if (requestGr.get(requestResponse.request_id)) {\n        var reqItemGr = new GlideRecord('sc_req_item');\n        reqItemGr.addQuery(\"request\", requestResponse.request_id);\n        reqItemGr.query();\n        if (reqItemGr.next()) {\n            vaVars.record_id = reqItemGr.getUniqueValue();\n            vaVars.record_table = 'sc_req_item';\n            // add attachment to record\n            var mediaLinksFormAttachment = vaVars.media_links_form_attachment.split(',');\n            for (var i in mediaLinksFormAttachment)\n                vaSystem.attachToRecord(mediaLinksFormAttachment[i], vaVars.record_table, vaVars.record_id);\n\n        }\n        // move attachment variable to record\n        var gr = new GlideRecord('sys_attachment');\n        gr.addQuery('sys_id', 'IN' , attachmentIds);\n        gr.query();\n        while (gr.next()) {\n            gr.setValue('table_name', 'ZZ_YY' + vaVars.record_table);\n            gr.setValue('table_sys_id', vaVars.record_id);\n            gr.update();\n        }\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "822ef315be27448f86176b30a0b57a69": {
          "id": "822ef315be27448f86176b30a0b57a69",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c77451fa65bd48f1bc5cfd729eea8a82": {
          "id": "c77451fa65bd48f1bc5cfd729eea8a82",
          "stepType": "Prompt",
          "name": "Question Date",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "89ee67709d324252b1097acfbd760d0a",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "c52a1149520047d5a73c9ebe61a036b3": {
          "id": "c52a1149520047d5a73c9ebe61a036b3",
          "name": "Post Response",
          "script": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    vaVars.validation_message = \"\";\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var type = quesJson.type;\n    var vaFieldValidator = new global.VAFieldValidator();\n    // If user doesn't want to proceed with the selected value and skips the question, the variable would be set to \"\"\n    var proceedWithDefaultValue = vaInputs.proceed_with_default.getValue();\n    switch (type) {\n        case 2:\n        case 6:\n        case 16:\n            var ans = vaInputs.question_text.getValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            if (ans.trim().length === 0 &amp;&amp; itemJson.variables[vaVars.qIndex].mandatory) {\n                vaVars.validation_message = gs.getMessage('You must answer this question');\n                break;\n            }\n            if (type === 2) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n                break;\n            }\n            var q = GlideappQuestion.getQuestion(itemJson.variables[vaVars.qIndex].sys_id);\n            var validresponse = q.validateRegex(ans);\n            if (validresponse) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_text = \"\";\n            } else if (!validresponse)\n                vaVars.validation_message = q.getValidationMessage();\n            break;\n        case 9:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date = \"\";\n            break;\n        case 10:\n            itemJson.variables[vaVars.qIndex].value = vaInputs.question_date_time.getDisplayValue() || (proceedWithDefaultValue ? quesJson.display_value : \"\");\n            vaInputs.question_date_time = \"\";\n            break;\n        case 8:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_reference)\n                ans = vaInputs.question_reference.getValue();\n\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_reference = \"\";\n            break;\n        case 1:\n        case 3:\n        case 4:\n        case 5:\n        case 18:\n        case 22:\n            var ans = (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_choice) {\n                ans = vaInputs.question_choice.getValue();\n                ans = ans == 'no_data' ? '' : ans;\n            }\n            itemJson.variables[vaVars.qIndex].value = ans;\n            vaInputs.question_choice = \"\";\n            break;\n        case 26:\n            var ans = vaInputs.question_email.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_email.getValue() || ans == \"\" || vaFieldValidator.validateEmailAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_email = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid email address\");\n            break;\n        case 27:\n            var ans = vaInputs.question_url.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_url.getValue() || ans == \"\" || vaFieldValidator.validateURL(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_url = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid URL\");\n            break;\n        case 28:\n            var ans = vaInputs.question_ip_address.getValue() || (proceedWithDefaultValue ? quesJson.value : \"\");\n            if (vaInputs.question_ip_address.getValue() || ans == \"\" || vaFieldValidator.validateIPAddress(ans)) {\n                itemJson.variables[vaVars.qIndex].value = ans;\n                vaInputs.question_ip_address = \"\";\n            } else\n                vaVars.validation_message = gs.getMessage(\"This isn't a valid IP Address\");\n            break;\n        case 31:\n            var ans = quesJson.default_value + '';\n            if (quesJson.default_value &amp;&amp; proceedWithDefaultValue)\n                vaVars.request_for = ans;\n            else if (vaVars.request_for)\n                ans = vaVars.request_for;\n            itemJson.variables[vaVars.qIndex].value = ans;\n    }\n    if (!vaVars.request_for)\n        vaVars.request_for = gs.getUserID() + '';\n    if (quesJson.data_lookup_ids &amp;&amp; quesJson.data_lookup_ids.length != 0) {\n        var helper = new sn_sc.CatalogConversationHelper();\n        vaVars.itemJSON = JSON.stringify(helper.runDataLookups(itemJson, quesJson.sys_id));\n    } else\n        vaVars.itemJSON = JSON.stringify(itemJson);\n\n// resetting the value of proceed with default incase validation fails\n   if (vaVars.validation_message.length !== 0)\n       vaInputs.proceed_with_default = false;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "a131dcce52b44cf0a774e8fde61504e5": {
          "id": "a131dcce52b44cf0a774e8fde61504e5",
          "stepType": "Decision",
          "name": "Decision"
        },
        "499a44abe9c948919a0ef4c9fe7c560c": {
          "id": "499a44abe9c948919a0ef4c9fe7c560c",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n      var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       return singleOutMsg;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "d8482236657c4d96a0d3021b049ac6a4": {
          "id": "d8482236657c4d96a0d3021b049ac6a4",
          "stepType": "Prompt",
          "name": "Question Text",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "0bcc541ab0024d63a721e3c361c512e6",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "ed4708d2bb154831a65fed6c4b56b79b": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "e72cc9fcb359400ca36bc99dac9b4a9f",
          "id": "ed4708d2bb154831a65fed6c4b56b79b",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n\n    var gr = new GlideRecordSecure(variable.reference);\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(gr.getDisplayName());\n    \n    gr.query();\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "ea37f26cd54f41d5afa339eda82ce401": {
          "id": "ea37f26cd54f41d5afa339eda82ce401",
          "name": "Set Record ID to -1",
          "script": "(function execute() {\n    vaVars.record_id = \"-1\";\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "39b352bf0cf146a5813580386d9f666c": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "6da4b36f89cf43179fdafa9f54cbfe0e",
          "id": "39b352bf0cf146a5813580386d9f666c",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No records found"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    options = choices;\n    return options;    \n})()",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '') \n        return true;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    return false;\n})();\n"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "317d6ff924de42a69cb743250b9024bb": {
          "id": "317d6ff924de42a69cb743250b9024bb",
          "stepType": "Prompt",
          "name": "Question Date Time",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "beeff529ecbc4f38b1932a34b197adf9",
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "4497edbf6ff7404390a5ea8858332193": {
          "id": "4497edbf6ff7404390a5ea8858332193",
          "stepType": "TextOutput",
          "name": "Question Label",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "a451218ded67479a98ea469d15c6efa6": {
          "id": "a451218ded67479a98ea469d15c6efa6",
          "stepType": "TextOutput",
          "name": "Container Start Question",
          "value": [
            {
              "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (quesJson.display_title)\n        return true;\n})()\n"
          },
          "secure": false
        },
        "3afec8fdc43141bf9e8dd49c225fe574": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Requested For",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "7c88e20f614442ca8e5e3f6cf8f407fb",
          "id": "3afec8fdc43141bf9e8dd49c225fe574",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I couldn't find a user with that name"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n    var gr = new GlideRecordSecure('sys_user');\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    gr.addEncodedQuery('nameLIKE'+ vaInputs.search_requested_for);\n    gr.addQuery(quesJson.qualifier);\n    gr.orderBy(gr.getDisplayName());\n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    if (count &gt; 0) {\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Someone else')\n        });\n    }\n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "d14db90c8e5d453fb8faf9b3102c93f8": {
          "id": "d14db90c8e5d453fb8faf9b3102c93f8",
          "stepType": "Prompt",
          "name": "Search Requested For",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Who should I set it to? "
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "d63ab2420c294750935e44d7fdb70e67",
          "skippable": {
            "mode": "query",
            "value": ""
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "4616b6d076224bb99754db232b9fa0a4": {
          "id": "4616b6d076224bb99754db232b9fa0a4",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f34c18dc441d45ab9285a16451b0b7ab": {
          "id": "f34c18dc441d45ab9285a16451b0b7ab",
          "name": "Requested For Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "9263cf2e0fb34eb0b568f18794426637": {
          "id": "9263cf2e0fb34eb0b568f18794426637",
          "name": "Is Delegation Allowed",
          "script": "(function execute() {\n    var item = new sn_sc.CatItem(JSON.parse(vaVars.itemJSON).sys_id);\n    vaVars.request_for = vaInputs.question_requested_for.getValue() + '';\n    vaVars.canView = item.isDelegationAllowed(vaVars.request_for);\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "5c02b3e84a3244e9bb33ad8aa3048317": {
          "id": "5c02b3e84a3244e9bb33ad8aa3048317",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ce76060cc59b448b8fdfbca0dfa1b404": {
          "id": "ce76060cc59b448b8fdfbca0dfa1b404",
          "name": "Requested For Previous Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "3d66989b1eb84483bbf425275ab01a66": {
          "id": "3d66989b1eb84483bbf425275ab01a66",
          "stepType": "Prompt",
          "name": "Request For Another User",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "The selected user does not have access to this item. Do you want to request for  someone else?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "9731ca7237de4f54b93f7f3fb8573a78",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "a33575618f65456f9332129eb86060fd": {
          "id": "a33575618f65456f9332129eb86060fd",
          "stepType": "Decision",
          "name": "Decision"
        },
        "aab3d1ac74cb48a7a56a5967e233014b": {
          "id": "aab3d1ac74cb48a7a56a5967e233014b",
          "stepType": "Decision",
          "name": "Decision"
        },
        "8dc7837373ac4eaa80563c150ea22e68": {
          "id": "8dc7837373ac4eaa80563c150ea22e68",
          "name": "Run OnChange Policies",
          "script": "(function execute() {\n   vaVars.itemJSON = JSON.stringify(new sn_sc.CatalogConversationHelper().runChangePolicies(JSON.parse(vaVars.itemJSON)))\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "ccdfd59a6afb4539a83b2130238b013e": {
          "id": "ccdfd59a6afb4539a83b2130238b013e",
          "stepType": "Prompt",
          "name": "Question Email",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "5cec8d23da1f4dd5ab027098434de43e",
          "inputType": {
            "format": "33513d135b1200101f254d3ba881c7d5",
            "script": ""
          }
        },
        "5a7d96634e294337ac51846a69c45192": {
          "id": "5a7d96634e294337ac51846a69c45192",
          "stepType": "Prompt",
          "name": "Question IP Address",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "d2f9a89bf0db4a32bccb1a0b1240050c",
          "inputType": {
            "format": "a860c5945b2200101f254d3ba881c7df",
            "script": ""
          }
        },
        "a7193adfa51648e4bc307f13075a9db1": {
          "id": "a7193adfa51648e4bc307f13075a9db1",
          "stepType": "Prompt",
          "name": "Question URL",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "efc16df6a2b2439c91b4d334fc21ae47",
          "inputType": {
            "format": "77d8b2935b9200101f254d3ba881c7b9",
            "script": ""
          }
        },
        "62459bf52fe64a8e965a3b13f12c349a": {
          "id": "62459bf52fe64a8e965a3b13f12c349a",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b15ae21d6bb54761aef71add5ee7cadb": {
          "id": "b15ae21d6bb54761aef71add5ee7cadb",
          "stepType": "Prompt",
          "name": "Add Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add attachment?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2ecf6a4c47d0442085224a82a9578df9"
        },
        "e508c97ac8b74e6aab119ad8e5a34a6e": {
          "id": "e508c97ac8b74e6aab119ad8e5a34a6e",
          "stepType": "Decision",
          "name": "Decision"
        },
        "218b35c5d2924d08bf0bcc9d7fc8d5e9": {
          "id": "218b35c5d2924d08bf0bcc9d7fc8d5e9",
          "stepType": "Prompt",
          "name": "Upload Attachment",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Upload attachment');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var addMore = false;\n    //when attachment is mandatory, to provide an option to skip add more \n    if (vaInputs.add_more &amp;&amp; vaInputs.add_more.getValue())\n        addMore = true;\n        \n    return !JSON.parse(vaVars.itemJSON).mandatory_attachment || addMore;\n})()"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "0fdf82e8310a4270ae7eb058bc677e37"
        },
        "6ae2344c804b443e8a27a526ebc232e2": {
          "id": "6ae2344c804b443e8a27a526ebc232e2",
          "name": "Add Media Links for Form Attachment",
          "script": "(function execute() {\n    if (!!vaVars.media_links_form_attachment)\n        vaVars.media_links_form_attachment = vaVars.media_links_form_attachment + ',' + vaInputs.upload_attachment.getValue();\n    else\n        vaVars.media_links_form_attachment = vaInputs.upload_attachment.getValue();\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "cd29901fbcab4b728ed9596897e893e9": {
          "id": "cd29901fbcab4b728ed9596897e893e9",
          "stepType": "Prompt",
          "name": "Add More",
          "prompt": {
            "value": "(function execute() {\n    return gs.getMessage('Add more?');\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "2f9f67bfae294d899448a6868d720fde"
        },
        "6a7140d7876c4975a89b598d7be64fed": {
          "id": "6a7140d7876c4975a89b598d7be64fed",
          "stepType": "Decision",
          "name": "Decision"
        },
        "47a4f654e8c44863b85a365bb54890d9": {
          "id": "47a4f654e8c44863b85a365bb54890d9",
          "stepType": "Prompt",
          "name": "Question Attachment",
          "prompt": {
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()\n",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()\n"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "8b7b58df3d5b4352ac5f3dd31b8de875"
        },
        "0abf0a646a07407a8a4dd32682de0e12": {
          "id": "0abf0a646a07407a8a4dd32682de0e12",
          "name": "Validate Attachment",
          "script": "(function execute() {\n    vaVars.validation_message = \"\";\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var quesJson = itemJson.variables[vaVars.qIndex];\n    var vaUtils = new global.VAUtils();\n    var arr = vaInputs.question_attachment.getValue().split('/');\n    var mediaId = arr[arr.length - 1];\n    var gr = new GlideRecord('sys_cs_media');\n    gr.addQuery('media_id', mediaId);\n    gr.query();\n    if (gr.next()) {\n        var attachmentId = gr.getValue('sys_attachment_id');\n        var attachRef = new GlideRecord('sys_attachment');\n        if (attachRef.get(attachmentId)) {\n            var file = {\n                name: attachRef.getValue('file_name'),\n                size: attachRef.getValue('size_bytes')\n            };\n            var allowedExtensions = new Array();\n            if (quesJson.allow_extension)\n               allowedExtensions = quesJson.allow_extension.split(';');\n            var field = {\n                allowedExtensions: allowedExtensions,\n                allowedFileSize: quesJson.max_file_size\n            };\n            var result = vaUtils.validateAttachment(file, field);\n            if (result.type == 'success') {\n                quesJson.value = attachmentId;\n                vaVars.itemJSON = JSON.stringify(itemJson);\n                vaInputs.question_attachment.setValue('');\n            } else\n                vaVars.validation_message = result.message;\n        } else \n            vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n    } else \n        vaVars.validation_message = gs.getMessage('Failed to upload the attachment');\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "question_attachmentISNOTEMPTY",
            "mode": "query"
          }
        },
        "0f348f7238fb47199769718b2b2e48c0": {
          "id": "0f348f7238fb47199769718b2b2e48c0",
          "stepType": "Decision",
          "name": "Decision"
        },
        "8b187af891b14cab84169ec01d560c57": {
          "id": "8b187af891b14cab84169ec01d560c57",
          "stepType": "ScriptOutput",
          "name": "Validation Message",
          "output_type": "single_part",
          "script": "(function execute() {\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n       singleOutMsg.setTextPart(gs.getMessage('{0}. Answer the question again', vaVars.validation_message));\n       vaVars.validation_message = \"\";\n       return singleOutMsg;\n})()\n",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "1aa509c0eea748fd85a1bfa66124628e": {
          "id": "1aa509c0eea748fd85a1bfa66124628e",
          "stepType": "Decision",
          "name": "Is Record Producer"
        },
        "54dd79b4bf7b412bae45dfab7604aeb9": {
          "id": "54dd79b4bf7b412bae45dfab7604aeb9",
          "stepType": "Decision",
          "name": "Execute Contextual Search"
        },
        "faef557696f1480980683767ae84d71d": {
          "id": "faef557696f1480980683767ae84d71d",
          "name": "Get Search Variable And Context",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    if(gs.nil(vaVars.contextualSearchVariable)) {\n        var searchConfig = contextualSearch.getContextualSearchVariableAndContext(vaInputs.catalog_item_id);\n        vaVars.contextualSearchVariable = searchConfig.searchVariable;\n        vaVars.contextualSearchContext = searchConfig.context;\n    }\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "mode": "query",
            "value": ""
          }
        },
        "cc580e5e882644e2997145318291f690": {
          "id": "cc580e5e882644e2997145318291f690",
          "stepType": "Decision",
          "name": "Contextual Search Variable ?"
        },
        "725884c3f6644b6e9c3e5f89a26df9a7": {
          "id": "725884c3f6644b6e9c3e5f89a26df9a7",
          "name": "Contextual Search",
          "script": "(function execute() {\n    var contextualSearch = new global.VAGlobalContextualSearchUtil();\n    var response = contextualSearch.search(\n        vaVars.contextualSearchContext, vaInputs.question_text.getValue(), ''\n    );\n    var success = contextualSearch.processSearchResponse(response);\n    if (!success) {\n        return;\n    }  \n    var relevantSearchResults = contextualSearch.processGeneralResults(response, 20, -2);\n    vaVars.contextualSearchResultCount = relevantSearchResults.length;\n    vaVars.contextualSearchResultJsonString = JSON.stringify(relevantSearchResults);\n    vaVars.contextualSearchIndex = 0;\n    return;\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "95bf47409fc24baa931b31408fc88964": {
          "id": "95bf47409fc24baa931b31408fc88964",
          "stepType": "Decision",
          "name": "Did the search return results ?"
        },
        "386a957769a744cea48ff14f350da385": {
          "id": "386a957769a744cea48ff14f350da385",
          "stepType": "LinkOutput",
          "name": "Display multi-link",
          "url": {
            "mode": "simple",
            "value": ""
          },
          "label": {
            "mode": "simple",
            "value": ""
          },
          "header": {
            "mode": "simple",
            "value": ""
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "linkType": "multiple",
          "introMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I found some information that might help you:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "listOfLinks": "(function execute(header) {\n\tvar contextualSearch = new global.VAGlobalContextualSearchUtil();\n\tvar variables = {\n\t\tlimit: vaVars.contextualSearchResultLimit,\n\t\tindex: vaVars.contextualSearchIndex,\n\t\tsearch_result_json_string: vaVars.contextualSearchResultJsonString,\n\t\tportal: ''\n\t}\n\tvar groupedLinksOutMsg = contextualSearch.getLinks(header, variables);\n\treturn groupedLinksOutMsg;\n})(header)\n"
        },
        "006a04921db04721aa903237a20c5e28": {
          "id": "006a04921db04721aa903237a20c5e28",
          "stepType": "Decision",
          "name": "Did Articles Help ?"
        },
        "2468ee95a31d432bb1e65386480e8bea": {
          "id": "2468ee95a31d432bb1e65386480e8bea",
          "stepType": "Prompt",
          "name": "Did Articles Help",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Did any of this information resolve your issue?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "148f6abe10f144bc8049e1a7d9970c16"
        },
        "04d257b05a4b4ba18d8cedb1550a80ec": {
          "id": "04d257b05a4b4ba18d8cedb1550a80ec",
          "stepType": "Decision",
          "name": "Confirmation Required ?"
        },
        "1526e3762e144a208126ccc5e4ecea1a": {
          "id": "1526e3762e144a208126ccc5e4ecea1a",
          "stepType": "Decision",
          "name": "Decision"
        },
        "aade5afa9db14063b993606281b634f3": {
          "id": "aade5afa9db14063b993606281b634f3",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Preview successful"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "fee819ce088548239b8aaf8cabf326a1": {
          "id": "fee819ce088548239b8aaf8cabf326a1",
          "stepType": "Decision",
          "name": "Decision"
        },
        "19558f3227ea492a9ef50ebaee5211a8": {
          "id": "19558f3227ea492a9ef50ebaee5211a8",
          "stepType": "TextOutput",
          "name": "Catalog Builder Preview Message",
          "secure": false,
          "value": [
            {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": "Since this was a preview, the request was not submitted"
                    }
                  ]
                }
              ],
              "mode": "simple"
            }
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "eb06748dacb74a88aeb61fb22d660353": {
          "id": "eb06748dacb74a88aeb61fb22d660353",
          "stepType": "Decision",
          "name": "Decision"
        },
        "4146a9d7a93647a18a630b954c913466": {
          "id": "4146a9d7a93647a18a630b954c913466",
          "stepType": "ScriptOutput",
          "name": "Question Rich Text Label",
          "output_type": "single_part",
          "script": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "2e7752c0933d4139bb7635bc616c5abd": {
          "id": "2e7752c0933d4139bb7635bc616c5abd",
          "stepType": "TextOutput",
          "name": "Default Value Acknowledgement ",
          "secure": false,
          "value": [
            {
              "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    var renderedValue = quesJson.display_value ? quesJson.display_value : quesJson.value;\n    return gs.getMessage(\"&lt;b&gt;{0}&lt;/b&gt; was selected as the value for &lt;b&gt;{1}&lt;/b&gt;\", [renderedValue, quesJson.label])\n})()\n",
              "mode": "script"
            }
          ],
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"
          }
        },
        "ca0b86cc454b4720a403bb42705fd391": {
          "id": "ca0b86cc454b4720a403bb42705fd391",
          "stepType": "Prompt",
          "name": "Proceed with Default",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Do you want to proceed with this value?"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.default_value ? true : false;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "d6bba76e568c4e5cb3f74d27e040add5"
        },
        "0ba16baaee164e188eb7517e1d7907d7": {
          "id": "0ba16baaee164e188eb7517e1d7907d7",
          "stepType": "Decision",
          "name": "Decision"
        },
        "ce52248e0a4843569613ec3a7d504ecc": {
          "id": "ce52248e0a4843569613ec3a7d504ecc",
          "stepType": "Decision",
          "name": "Show end state card?"
        },
        "725220686d9748e8a330f7051c2337b9": {
          "id": "725220686d9748e8a330f7051c2337b9",
          "stepType": "Decision",
          "name": "Decision"
        },
        "f403deab25b04861926dd1caf3bd0780": {
          "id": "f403deab25b04861926dd1caf3bd0780",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "86df3902bd3c428c8579737431350cfc": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Choice Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n    var question = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if (question.mandatory)\n        return false;\n    if (question.type === 4 &amp;&amp; question.value === '')\n        return true;\n    if (question.type === 3 &amp;&amp; question.value === '' &amp;&amp; question.options[0].value !== '')\n        return true;\n    return false;\n})();\n"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "8cbeff61ed5343ebb8350cc5c4e68666",
          "id": "86df3902bd3c428c8579737431350cfc",
          "mode": "external",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var options = [];\n    var count = 0;\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n\n    var choices = quesJson.options;\n    if (choices.length &gt; 0 &amp;&amp; quesJson.mandatory) {\n        if (!choices[0].value)\n            choices.shift();\n    }\n    \n    count = choices.length;\n    vaVars.count = count;\n    options = choices.splice(index, limit);\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n    \n    return options;    \n})()",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "93318b7d304c4f5d87f7ac7df0fb5594": {
          "id": "93318b7d304c4f5d87f7ac7df0fb5594",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c4c7f93e774d4dd9b3e19400a83ed3f7": {
          "id": "c4c7f93e774d4dd9b3e19400a83ed3f7",
          "name": "Question Choice Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "b593e0f1190a42aabd6a81a6627715ab": {
          "id": "b593e0f1190a42aabd6a81a6627715ab",
          "name": "Question Choice Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "03913b036e7542cc819ebe9a91d71e36": {
          "id": "03913b036e7542cc819ebe9a91d71e36",
          "name": "Set Question Choice Value",
          "script": "(function execute() {\n    if(vaInputs.question_choice_other_channels) {\n        vaInputs.question_choice = vaInputs.question_choice_other_channels;\n        vaInputs.question_choice_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "f01a3c9cf86142c4beee73bbf60a0907": {
          "id": "f01a3c9cf86142c4beee73bbf60a0907",
          "stepType": "Decision",
          "name": "Messaging Channel"
        },
        "6565361f242b4825a32cf52c0f493819": {
          "id": "6565361f242b4825a32cf52c0f493819",
          "stepType": "Prompt",
          "name": "Search Reference",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "Enter a value to search"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels;\n})()\n"
          },
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "variableId": "023eea0b3b0e41589ecd3c1060642f77",
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "1fb5f6dbf24f40fd976d42e5842186a1": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Question Reference Other Channels",
          "prompt": {
            "value": "(function execute() {\n   var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    return quesJson.label;\n})()",
            "mode": "script"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "skippable": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].mandatory;\n})()"
          },
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "ee743482165e433f80d8b4f684b67f91",
          "id": "1fb5f6dbf24f40fd976d42e5842186a1",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
          "metadataScript": "",
          "cardData": {},
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": "No records found"
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var count = 0;\n\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var variable = itemJson.variables[vaVars.qIndex];\n    var gr = new GlideRecordSecure(variable.reference);\n    var displayColumn = gr.getDisplayName();\n   \n    gr.addEncodedQuery(displayColumn + 'LIKE' + vaInputs.search_reference.getValue());\n    gr.addQuery(variable.qualifier);\n    if (variable.ref_ac_order_by)\n        gr.orderBy(variable.ref_ac_order_by);\n    else\n        gr.orderBy(displayColumn);\n    \n    gr.chooseWindow(index, index + limit, true);\n    gr.query();\n\n    var count = gr.getRowCount();\n    vaVars.count = count;\n\n    while (gr.next()) {\n        options.push({\n            \"value\" : gr.getUniqueValue(),\n            \"label\" : gr.getDisplayValue()\n        });\n    }\n\n    if (index &gt; 0) \n        options.push({ 'value': 'prev', 'label': gs.getMessage('Show previous')});\n    if (count &gt; index + limit)\n        options.push({ 'value': 'next', 'label': gs.getMessage('Show more')});\n\n    if (count &gt; 0) {\n        vaVars.no_records_found = \"false\"\n        options.push({\n            'value' : 'search',\n            'label' : gs.getMessage('Search')\n        });\n    }\n    else\n        vaVars.no_records_found = \"true\";\n    \n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "hasCardHeader": false,
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false
        },
        "fae8e75c27bb4dbf894c365024ebd4b6": {
          "id": "fae8e75c27bb4dbf894c365024ebd4b6",
          "stepType": "Decision",
          "name": "Decision"
        },
        "5aee16e73cbd4aceb744efa4e7266af6": {
          "id": "5aee16e73cbd4aceb744efa4e7266af6",
          "name": "Question Reference Prev Page",
          "script": "(function execute() {\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    var c = index - limit;\n    if ( c &lt; 0 ) c = 0;\n    vaVars.index = c;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "c6b98034204541009423391a3a795754": {
          "id": "c6b98034204541009423391a3a795754",
          "name": "Question Reference Next Page",
          "script": "(function execute() {\n    var count = parseInt(vaVars.count);\n    var index = parseInt(vaVars.index);\n    var limit = parseInt(vaVars.limit);\n    if ( index + limit &gt; count )\n        vaVars.index = 0;\n    else\n        vaVars.index = index + limit;\n})();",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "1eb21d553b644d05ab10c2b5b58033d5": {
          "id": "1eb21d553b644d05ab10c2b5b58033d5",
          "name": "Set Question Reference Value",
          "script": "(function execute() {\n    if(vaInputs.question_reference_other_channels) {\n        vaInputs.question_reference = vaInputs.question_reference_other_channels;\n        vaInputs.question_reference_other_channels = \"\";\n    }\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "328bc3fa4b7c4033a89280571c2afe68": {
          "id": "328bc3fa4b7c4033a89280571c2afe68",
          "stepType": "ReusableTopic",
          "name": "End state card",
          "fields": [],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "reusableTopicChoice": "End state card for Catalog Request",
          "reusableTopicId": "0b01391550d30110fa9b861f7d83d7f6",
          "inputs": {
            "record_id": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_id}}",
                        "displayValue": "Script Variables➛record_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            },
            "record_table": {
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaVars.record_table}}",
                        "displayValue": "Script Variables➛record_table"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "string",
              "type": "String"
            }
          },
          "variableIds": [],
          "outputs": [],
          "outdatedNote": false,
          "loading": false
        }
      },
      "edges": [
        {
          "id": "be98ff0580264237a393c489faff3023",
          "edgeType": "Edge",
          "source": "328bc3fa4b7c4033a89280571c2afe68",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c881ed0698ba4748942574185c5cb9aa",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "d14db90c8e5d453fb8faf9b3102c93f8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 31)\n        return true;\n})()\n"
          },
          "label": "Question Requested For"
        },
        {
          "id": "23ad6a4519444b159cf5d8a58b388f77",
          "edgeType": "Edge",
          "source": "3529e87fc7aa412b8cbf6b4f72d55ef5",
          "target": "ce52248e0a4843569613ec3a7d504ecc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ed4377209bdf4f8e9749027fbf8bcc2d",
          "edgeType": "Edge",
          "source": "47a4f654e8c44863b85a365bb54890d9",
          "target": "0abf0a646a07407a8a4dd32682de0e12",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "21ed3a3d80d24dbd809a152e7f9d4e93",
          "edgeType": "Edge",
          "source": "6ae2344c804b443e8a27a526ebc232e2",
          "target": "cd29901fbcab4b728ed9596897e893e9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1e751649fe0849baaff1a41055ddc639",
          "edgeType": "Branch",
          "source": "4616b6d076224bb99754db232b9fa0a4",
          "target": "f34c18dc441d45ab9285a16451b0b7ab",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'next';\n})()\n"
          },
          "label": "Requested For Next"
        },
        {
          "id": "e114f53b64344575ae0cabcf54b3eade",
          "edgeType": "Branch",
          "source": "261d180638b34915b8d83502523bd71d",
          "target": "ccfaa04972f249548acf35d12e20512f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name !== 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Catalog Item"
        },
        {
          "id": "9340ac5accdf4e89bfbc093011dfb2a8",
          "edgeType": "Edge",
          "source": "f18bda6305984ec8bc8eb8ca629599ca",
          "target": "1fcdcbce981c4a69a43c692aa0fff7da",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5eda4e57e20a47dcbabcae565b585ffd",
          "edgeType": "Edge",
          "source": "7cd5890cfdc343e09bc999e908c8a5b9",
          "target": "d002d97da5f04569b964b72d0511a6d3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c20b53e5cd2b406fad12b17e2da7a482",
          "edgeType": "Edge",
          "source": "d002d97da5f04569b964b72d0511a6d3",
          "target": "bc85a628bdd042b683eae6276c770ac9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d93c8c3125e446d7854047f2b32aee5a",
          "edgeType": "Branch",
          "source": "bc85a628bdd042b683eae6276c770ac9",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=false",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "f1f89aa673534fc89ab17ce91d308c71",
          "edgeType": "Branch",
          "source": "bc85a628bdd042b683eae6276c770ac9",
          "target": "ed44baf15459462094b5fb3b80020c18",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "proceed=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "69e85257ac184e3382700924e0d1d7b4",
          "edgeType": "Branch",
          "source": "ed44baf15459462094b5fb3b80020c18",
          "target": "f641789166c14ab594da888a7e94ba01",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "Has VA Support"
        },
        {
          "id": "eeb252181a01486787e2344add2e6476",
          "edgeType": "Branch",
          "source": "f641789166c14ab594da888a7e94ba01",
          "target": "d5920ae874e544fdb45940dd353a40a5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()\n"
          },
          "label": "Item with no variables"
        },
        {
          "id": "5ed6c81d2e3f4353b3c139d73d468607",
          "edgeType": "Branch",
          "source": "f641789166c14ab594da888a7e94ba01",
          "target": "4c6f66a159044ac3892b48b033fdc2a3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return true;\n    }\n    //No variables  that we can show\n    return false;\n})()\n"
          },
          "label": "Item with variables"
        },
        {
          "id": "c58d82ed9b3d486cb13b4016dbc6c596",
          "edgeType": "Edge",
          "source": "4c6f66a159044ac3892b48b033fdc2a3",
          "target": "d5920ae874e544fdb45940dd353a40a5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c620209b185e434495dc85a7d807ab01",
          "edgeType": "Branch",
          "source": "261d180638b34915b8d83502523bd71d",
          "target": "6cf92f67176e4c92946b8baae7627a02",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer')\n        return true;\nreturn false;\n})()\n"
          },
          "label": "Record Producer"
        },
        {
          "id": "bf610e8c62cf47959a124c6c27727b46",
          "edgeType": "Edge",
          "source": "6cf92f67176e4c92946b8baae7627a02",
          "target": "11e8fe287c814f17975368bf10d617f7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "df2c2cd6a26f441a8cfa1915993ca48b",
          "edgeType": "Branch",
          "source": "11e8fe287c814f17975368bf10d617f7",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=",
            "mode": "query"
          },
          "label": "Don't Submit"
        },
        {
          "id": "594e618c57ee429d87e7b21359797d29",
          "edgeType": "Edge",
          "source": "ccfaa04972f249548acf35d12e20512f",
          "target": "1aba04f33fde4914be67f21e7c0c42cc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b391e58cea8341e496bdb53256de528f",
          "edgeType": "Branch",
          "source": "1aba04f33fde4914be67f21e7c0c42cc",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=",
            "mode": "query"
          },
          "label": "Don't Order"
        },
        {
          "id": "2cae70ae19dc45e4a0567c61141023c7",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "c77451fa65bd48f1bc5cfd729eea8a82",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 9;\n})()\n"
          },
          "label": "Date Question"
        },
        {
          "id": "e3c2fe5139c64372baea461bdefa6ed3",
          "edgeType": "Edge",
          "source": "c77451fa65bd48f1bc5cfd729eea8a82",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9278e1ba3e274f0caf18d711187aac16",
          "edgeType": "Edge",
          "source": "c52a1149520047d5a73c9ebe61a036b3",
          "target": "a131dcce52b44cf0a774e8fde61504e5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "59483ee9066f4b398f8e281caf284118",
          "edgeType": "Branch",
          "source": "a131dcce52b44cf0a774e8fde61504e5",
          "target": "499a44abe9c948919a0ef4c9fe7c560c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "6da5131146f34bb786f802489f17a46e",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "d8482236657c4d96a0d3021b049ac6a4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type Question"
        },
        {
          "id": "33186ed90d084bbaafee8d3ea8bfd253",
          "edgeType": "Branch",
          "source": "ed44baf15459462094b5fb3b80020c18",
          "target": "ea37f26cd54f41d5afa339eda82ce401",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !JSON.parse(vaVars.itemJSON).va_support;\n})()"
          },
          "label": "No VA Support"
        },
        {
          "id": "4c89490e73c447a1bb7c9c18d61f4f67",
          "edgeType": "Edge",
          "source": "ea37f26cd54f41d5afa339eda82ce401",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d4384bcaccc84b4d98230db0f7bb2c05",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "317d6ff924de42a69cb743250b9024bb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 10;\n})()\n"
          },
          "label": "Date-Time Question"
        },
        {
          "id": "5c41a1d10e1345ba8a49dd61d04ca219",
          "edgeType": "Edge",
          "source": "317d6ff924de42a69cb743250b9024bb",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e6866483861c4040aa90c80772ecbcb2",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "4497edbf6ff7404390a5ea8858332193",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 11;\n})()"
          },
          "label": "Question Label"
        },
        {
          "id": "a91434d3ce5a4328858e480a59e8fea1",
          "edgeType": "Edge",
          "source": "4497edbf6ff7404390a5ea8858332193",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "df7786a9976e4fe385de091233094412",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "a451218ded67479a98ea469d15c6efa6",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    if (type === 0 || type === 12 || type === 19 || type === 20 || type === 24)\n        return true;\n})()\n"
          },
          "label": "Container Or Break Questions"
        },
        {
          "id": "fefaef1f5d0b4db3a8ea53320d13f9a6",
          "edgeType": "Edge",
          "source": "a451218ded67479a98ea469d15c6efa6",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bded90489fcc4d368905bb68aa77ad2f",
          "edgeType": "Edge",
          "source": "d14db90c8e5d453fb8faf9b3102c93f8",
          "target": "3afec8fdc43141bf9e8dd49c225fe574",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d0bb4ca8297347b483c74fb082b4acbf",
          "edgeType": "Edge",
          "source": "3afec8fdc43141bf9e8dd49c225fe574",
          "target": "4616b6d076224bb99754db232b9fa0a4",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5941c090c7894834a7b0fd5674b9f967",
          "edgeType": "Edge",
          "source": "f34c18dc441d45ab9285a16451b0b7ab",
          "target": "3afec8fdc43141bf9e8dd49c225fe574",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6977fb458e5845218b43e9a8f0bed75e",
          "edgeType": "Branch",
          "source": "4616b6d076224bb99754db232b9fa0a4",
          "target": "d14db90c8e5d453fb8faf9b3102c93f8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaInputs.question_requested_for.getValue() || vaInputs.question_requested_for.getValue() === 'search';\n})()\n"
          },
          "label": "Search Requested For"
        },
        {
          "id": "9eac5a28efd74ba5ab0407a660fbc04a",
          "edgeType": "Branch",
          "source": "4616b6d076224bb99754db232b9fa0a4",
          "target": "9263cf2e0fb34eb0b568f18794426637",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_requested_for.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Requested For Chosen"
        },
        {
          "id": "618ce1813eb94a45b1d6b9b947d2ccbe",
          "edgeType": "Edge",
          "source": "9263cf2e0fb34eb0b568f18794426637",
          "target": "5c02b3e84a3244e9bb33ad8aa3048317",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "1d9bc868bd694225804e3c28c6ea921c",
          "edgeType": "Branch",
          "source": "5c02b3e84a3244e9bb33ad8aa3048317",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.canView;\n})()\n"
          },
          "label": "Can View"
        },
        {
          "id": "628a18d6d2154f3d9d5fa557c5fcf348",
          "edgeType": "Branch",
          "source": "4616b6d076224bb99754db232b9fa0a4",
          "target": "ce76060cc59b448b8fdfbca0dfa1b404",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_requested_for.getValue() === 'prev';\n})()\n"
          },
          "label": "Requested For Prev"
        },
        {
          "id": "2731e117f7d34aa2af7684a2ea26055f",
          "edgeType": "Edge",
          "source": "ce76060cc59b448b8fdfbca0dfa1b404",
          "target": "3afec8fdc43141bf9e8dd49c225fe574",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "4382591108da46ffa78003ad4d1a38e2",
          "edgeType": "Branch",
          "source": "5c02b3e84a3244e9bb33ad8aa3048317",
          "target": "3d66989b1eb84483bbf425275ab01a66",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !vaVars.canView\n})()\n"
          },
          "label": "Cannot View"
        },
        {
          "id": "d1062ab9804c4da09d18a4aa0f1b4c50",
          "edgeType": "Edge",
          "source": "3d66989b1eb84483bbf425275ab01a66",
          "target": "a33575618f65456f9332129eb86060fd",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "9e5446f0e7254901ad8d4e6c8bf61a84",
          "edgeType": "Branch",
          "source": "a33575618f65456f9332129eb86060fd",
          "target": "d14db90c8e5d453fb8faf9b3102c93f8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=true",
            "mode": "query"
          },
          "label": "Request for Another User"
        },
        {
          "id": "f53cc05a12ff4efd9c33d1a43abacf3a",
          "edgeType": "Branch",
          "source": "a33575618f65456f9332129eb86060fd",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "request_for_another_user=",
            "mode": "query"
          },
          "label": "End Conversation"
        },
        {
          "id": "36502171837348e28b177eed7045c9b1",
          "edgeType": "Branch",
          "source": "a131dcce52b44cf0a774e8fde61504e5",
          "target": "aab3d1ac74cb48a7a56a5967e233014b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "3a02bc2b94704b76ac2d133db203dde7",
          "edgeType": "Branch",
          "source": "aab3d1ac74cb48a7a56a5967e233014b",
          "target": "d5920ae874e544fdb45940dd353a40a5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return !JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "No onChange Policies"
        },
        {
          "id": "3f434f93a2bc4f489411fcf1ebaf8a05",
          "edgeType": "Branch",
          "source": "aab3d1ac74cb48a7a56a5967e233014b",
          "target": "8dc7837373ac4eaa80563c150ea22e68",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).has_on_change_policies;\n})()\n"
          },
          "label": "Has onChange Policies"
        },
        {
          "id": "793bd6dbacaa447db9d39d2605c3b3db",
          "edgeType": "Edge",
          "source": "8dc7837373ac4eaa80563c150ea22e68",
          "target": "d5920ae874e544fdb45940dd353a40a5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "71b030a668e043d0a1a082587a2e2029",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var unSupportedTypes = vaVars.unsupportedVarTypes.split(',');\n   return unSupportedTypes.indexOf(String(JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type)) !== -1;\n})()\n"
          },
          "label": "Unsupported  Variable  Types"
        },
        {
          "id": "54e5039c407649e993d80f7a826cb76c",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "ccdfd59a6afb4539a83b2130238b013e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Question"
        },
        {
          "id": "1b7d8835c1a544e3850cf69c01f06ae1",
          "edgeType": "Edge",
          "source": "ccdfd59a6afb4539a83b2130238b013e",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "4cb6bb610bac472eb277b16dcf741643",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "5a7d96634e294337ac51846a69c45192",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "Ip Address Question"
        },
        {
          "id": "84d876cf7615435e9e4659110ef15b3b",
          "edgeType": "Edge",
          "source": "5a7d96634e294337ac51846a69c45192",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "8443ce39819a4e0fb2d5933d96c008b8",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "a7193adfa51648e4bc307f13075a9db1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Question"
        },
        {
          "id": "7fdb991bf4f349199bc2db751da781c4",
          "edgeType": "Edge",
          "source": "a7193adfa51648e4bc307f13075a9db1",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "53a95971b5d743b4baabd1959fb1dbd7",
          "edgeType": "Branch",
          "source": "d5920ae874e544fdb45940dd353a40a5",
          "target": "62459bf52fe64a8e965a3b13f12c349a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n    do{\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n       //There are variables that we can show\n        return false;\n    }\n    //No variables that we can show\n    return true;\n})()"
          },
          "label": "Questions Done"
        },
        {
          "id": "d09cd876d30b4e43aa5c06e2ff64f558",
          "edgeType": "Branch",
          "source": "62459bf52fe64a8e965a3b13f12c349a",
          "target": "261d180638b34915b8d83502523bd71d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === true;\n})()\n"
          },
          "label": "Has  No Attachment"
        },
        {
          "id": "3d14d60752b342d5b4541c45d078925e",
          "edgeType": "Branch",
          "source": "62459bf52fe64a8e965a3b13f12c349a",
          "target": "b15ae21d6bb54761aef71add5ee7cadb",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.no_attachments === false;\n})()\n"
          },
          "label": "Has Attachment"
        },
        {
          "id": "9962f41cf0224d3db54e3e667638deef",
          "edgeType": "Edge",
          "source": "b15ae21d6bb54761aef71add5ee7cadb",
          "target": "e508c97ac8b74e6aab119ad8e5a34a6e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6a0efea7d4db4bdab9c50e1e3a59eed9",
          "edgeType": "Branch",
          "source": "e508c97ac8b74e6aab119ad8e5a34a6e",
          "target": "261d180638b34915b8d83502523bd71d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return !item.mandatory_attachment &amp;&amp; !vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "09f35327ec7546cb92a4a4c028e45142",
          "edgeType": "Branch",
          "source": "e508c97ac8b74e6aab119ad8e5a34a6e",
          "target": "218b35c5d2924d08bf0bcc9d7fc8d5e9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var item = JSON.parse(vaVars.itemJSON);\n    return item.mandatory_attachment || vaInputs.add_attachment.getValue();\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "23cff8c4005448708d8abe4fe54c4812",
          "edgeType": "Edge",
          "source": "cd29901fbcab4b728ed9596897e893e9",
          "target": "6a7140d7876c4975a89b598d7be64fed",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0ff0d48a6efc4dd5b1c4678f78b4d17c",
          "edgeType": "Branch",
          "source": "6a7140d7876c4975a89b598d7be64fed",
          "target": "218b35c5d2924d08bf0bcc9d7fc8d5e9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "5acda6f7fac2433395b1107438050bc2",
          "edgeType": "Branch",
          "source": "6a7140d7876c4975a89b598d7be64fed",
          "target": "261d180638b34915b8d83502523bd71d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "add_more=",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "3152a09a812c4f64a7e779211d57f68e",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "47a4f654e8c44863b85a365bb54890d9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 33;\n})()\n"
          },
          "label": "Question Attachment"
        },
        {
          "id": "6a1debd2df7c4f05bb291c8c7d9bb7f5",
          "edgeType": "Edge",
          "source": "0abf0a646a07407a8a4dd32682de0e12",
          "target": "0f348f7238fb47199769718b2b2e48c0",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c0db607483664dc4aecbc2937df2f348",
          "edgeType": "Branch",
          "source": "0f348f7238fb47199769718b2b2e48c0",
          "target": "aab3d1ac74cb48a7a56a5967e233014b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length === 0;\n})()\n"
          },
          "label": "Next Question"
        },
        {
          "id": "d6b82b373a5a4d89b80c493eef073a42",
          "edgeType": "Branch",
          "source": "0f348f7238fb47199769718b2b2e48c0",
          "target": "8b187af891b14cab84169ec01d560c57",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaVars.validation_message.length !== 0;\n})()\n"
          },
          "label": "Repeat Question"
        },
        {
          "id": "28b9b12b5c1b4750bc376a0f2bcfa995",
          "edgeType": "Edge",
          "source": "8b187af891b14cab84169ec01d560c57",
          "target": "47a4f654e8c44863b85a365bb54890d9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "854f6d0a424845ed81057700754432c7",
          "edgeType": "Edge",
          "source": "d8482236657c4d96a0d3021b049ac6a4",
          "target": "1aa509c0eea748fd85a1bfa66124628e",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "66d06f1c8e5541cdb9db4d51f571c117",
          "edgeType": "Branch",
          "source": "1aa509c0eea748fd85a1bfa66124628e",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n   \n    if (itemJson.sys_class_name !== 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()\n"
          },
          "label": "No"
        },
        {
          "id": "bd8563b771f9448c9df1db201e5753a3",
          "edgeType": "Branch",
          "source": "1aa509c0eea748fd85a1bfa66124628e",
          "target": "54dd79b4bf7b412bae45dfab7604aeb9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (itemJson.sys_class_name === 'sc_cat_item_producer') {\n        return true;\n    }    \n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "4575bfdb59854dc9baed814dd5aae0b0",
          "edgeType": "Branch",
          "source": "54dd79b4bf7b412bae45dfab7604aeb9",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'false' || ans.trim().length === 0) {\n        return true;\n    }\n    return false;    \n})()\n"
          },
          "label": "No",
          "fromNode": "- Execute Contextual Search",
          "toNode": "c52a1149520047d5a73c9ebe61a036b3",
          "toEdge": "4575bfdb59854dc9baed814dd5aae0b0",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "1244e04f6468455aa8f076b9bd2c6481",
          "edgeType": "Branch",
          "source": "54dd79b4bf7b412bae45dfab7604aeb9",
          "target": "faef557696f1480980683767ae84d71d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    /**\n     * Topic should pass execute_contextual_search as input if contextual search is required\n     *  It will execute contextual search only first time. For subsequent text variables, it will be skipped\n     */\n    var ans = vaInputs.question_text.getValue();\n    if(vaInputs.execute_contextual_search == 'true'  &amp;&amp; ans.trim().length !== 0) {\n        return true;\n    }\n    return false;     \n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "14c2c868b875406e85b822e86773ff46",
          "edgeType": "Edge",
          "source": "faef557696f1480980683767ae84d71d",
          "target": "cc580e5e882644e2997145318291f690",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "68639a8f2c8e41f1bb2178d1a3808cbe",
          "edgeType": "Branch",
          "source": "cc580e5e882644e2997145318291f690",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable !== quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "No",
          "fromNode": "- Contextual Search Variable ?",
          "toNode": "c52a1149520047d5a73c9ebe61a036b3",
          "toEdge": "68639a8f2c8e41f1bb2178d1a3808cbe",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "e20bf93f55fb4046bc9964cd64645533",
          "edgeType": "Branch",
          "source": "cc580e5e882644e2997145318291f690",
          "target": "725884c3f6644b6e9c3e5f89a26df9a7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var quesJson = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex];\n    if(vaVars.contextualSearchVariable === quesJson.sys_id) {\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Yes"
        },
        {
          "id": "6d4528a0e2714c1abef0928ad39e543a",
          "edgeType": "Edge",
          "source": "725884c3f6644b6e9c3e5f89a26df9a7",
          "target": "95bf47409fc24baa931b31408fc88964",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "59fe485dbd3b4ceb824da86ebfa1ee1c",
          "edgeType": "Branch",
          "source": "95bf47409fc24baa931b31408fc88964",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &lt;= 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "No",
          "fromNode": "- Did the search return results ?",
          "toNode": "c52a1149520047d5a73c9ebe61a036b3",
          "toEdge": "59fe485dbd3b4ceb824da86ebfa1ee1c",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "43d18c2cd07749f49ae21b39b89c528b",
          "edgeType": "Branch",
          "source": "95bf47409fc24baa931b31408fc88964",
          "target": "386a957769a744cea48ff14f350da385",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if(vaVars.contextualSearchResultCount &gt; 0){\n        return true;\n    }\n    return false;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "a9274fae301948a2a45c2ef17b5bd37b",
          "edgeType": "Branch",
          "source": "006a04921db04721aa903237a20c5e28",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "7fab731efd6949daa3a9ee59d44a43a1",
          "edgeType": "Branch",
          "source": "006a04921db04721aa903237a20c5e28",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "did_articles_help!=true",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Decision",
          "toNode": "c52a1149520047d5a73c9ebe61a036b3",
          "toEdge": "7fab731efd6949daa3a9ee59d44a43a1",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "fdae2ea42ec54ecfa41d4b1e4edcc823",
          "edgeType": "Edge",
          "source": "386a957769a744cea48ff14f350da385",
          "target": "2468ee95a31d432bb1e65386480e8bea",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "dfedd887e2de4e5dbee72b8686620703",
          "edgeType": "Edge",
          "source": "2468ee95a31d432bb1e65386480e8bea",
          "target": "006a04921db04721aa903237a20c5e28",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "338a59fe96e745d7a646d9f270641482",
          "edgeType": "Edge",
          "source": "1fcdcbce981c4a69a43c692aa0fff7da",
          "target": "04d257b05a4b4ba18d8cedb1550a80ec",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "70e4a26d912c4e59bc54e21f39af32f9",
          "edgeType": "Branch",
          "source": "04d257b05a4b4ba18d8cedb1550a80ec",
          "target": "7cd5890cfdc343e09bc999e908c8a5b9",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=true",
            "mode": "query"
          },
          "label": "Yes"
        },
        {
          "id": "6d71c1d8d8da43febcd80ecb76b3148b",
          "edgeType": "Branch",
          "source": "04d257b05a4b4ba18d8cedb1550a80ec",
          "target": "d5920ae874e544fdb45940dd353a40a5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "confirm_catalog_item=false",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "- Confirmation Required ?",
          "toNode": "d5920ae874e544fdb45940dd353a40a5",
          "toEdge": "6d71c1d8d8da43febcd80ecb76b3148b",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "fb1e399c2c304862baa118364b103420",
          "edgeType": "Branch",
          "source": "1aba04f33fde4914be67f21e7c0c42cc",
          "target": "1526e3762e144a208126ccc5e4ecea1a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "order_item=true",
            "mode": "query"
          },
          "label": "Order Now"
        },
        {
          "id": "6d4d33c06b6a4097aef4c752df90a666",
          "edgeType": "Branch",
          "source": "1526e3762e144a208126ccc5e4ecea1a",
          "target": "f271826512564c5c9fa869c1528caa78",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Order"
        },
        {
          "id": "966979704ad54140b20035bc0f2979f0",
          "edgeType": "Branch",
          "source": "1526e3762e144a208126ccc5e4ecea1a",
          "target": "aade5afa9db14063b993606281b634f3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "5ee930b997aa4cedab2f4d11cab232a4",
          "edgeType": "Branch",
          "source": "11e8fe287c814f17975368bf10d617f7",
          "target": "fee819ce088548239b8aaf8cabf326a1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "submit_producer=true",
            "mode": "query"
          },
          "label": "Submit Now"
        },
        {
          "id": "599c89805e7c4804812ca817159b04e9",
          "edgeType": "Branch",
          "source": "fee819ce088548239b8aaf8cabf326a1",
          "target": "3529e87fc7aa412b8cbf6b4f72d55ef5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaContext.catalog_builder_preview)\n       return false;\n    return true;\n})()\n"
          },
          "label": "Submit"
        },
        {
          "id": "373ee111996044a3af6363296dd08c20",
          "edgeType": "Branch",
          "source": "fee819ce088548239b8aaf8cabf326a1",
          "target": "aade5afa9db14063b993606281b634f3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   if (vaContext.catalog_builder_preview)\n      return true;\n   return false;\n})()\n"
          },
          "label": "Preview"
        },
        {
          "id": "bd0c9c90e36445459fdde47fd9e2dd26",
          "edgeType": "Edge",
          "source": "aade5afa9db14063b993606281b634f3",
          "target": "19558f3227ea492a9ef50ebaee5211a8",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "647ea7096ce445178352c1dba8adc4ff",
          "edgeType": "Edge",
          "source": "19558f3227ea492a9ef50ebaee5211a8",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "978aa69ea942454ba900defb89ca136b",
          "edgeType": "Edge",
          "source": "218b35c5d2924d08bf0bcc9d7fc8d5e9",
          "target": "eb06748dacb74a88aeb61fb22d660353",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2e8dc9a1b70943a28ac6a33634486a60",
          "edgeType": "Branch",
          "source": "eb06748dacb74a88aeb61fb22d660353",
          "target": "6ae2344c804b443e8a27a526ebc232e2",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISNOTEMPTY",
            "mode": "query"
          },
          "label": "Attachment uploaded"
        },
        {
          "id": "3e5a9145ab3a4f7e99f282d52d84bc93",
          "edgeType": "Branch",
          "source": "eb06748dacb74a88aeb61fb22d660353",
          "target": "261d180638b34915b8d83502523bd71d",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.upload_attachmentISEMPTY",
            "mode": "query"
          },
          "label": "Attachment skipped"
        },
        {
          "id": "8048d89a27b4465997e356a83369de7b",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "4146a9d7a93647a18a630b954c913466",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 32;\n})()\n"
          },
          "label": "Rich Text Label Question"
        },
        {
          "id": "fa500d394d754f1f9d3c3c44cf36ae5c",
          "edgeType": "Edge",
          "source": "4146a9d7a93647a18a630b954c913466",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7a086874efe3468dac80b939e1845fae",
          "edgeType": "Branch",
          "source": "d5920ae874e544fdb45940dd353a40a5",
          "target": "2e7752c0933d4139bb7635bc616c5abd",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n     var itemJson = JSON.parse(vaVars.itemJSON);\n    var qIndex = parseInt(vaVars.qIndex);\n    //qIndex is -1 initially, we reset this before search again step \n\n    do {\n        qIndex++;\n        var question = itemJson.variables[qIndex];\n    }\n    while(question &amp;&amp; (!question.visible || question.readonly || question.sys_readonly));\n\n    if (question) {\n        vaVars.qIndex = qIndex;\n        return true;\n    }\n    return false;\n})()"
          },
          "label": "Questions Left"
        },
        {
          "id": "773330f1ca8e417cb7ed34851dda12df",
          "edgeType": "Edge",
          "source": "2e7752c0933d4139bb7635bc616c5abd",
          "target": "ca0b86cc454b4720a403bb42705fd391",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c6693aad5e0c4aaab797f9ab2259c37e",
          "edgeType": "Edge",
          "source": "ca0b86cc454b4720a403bb42705fd391",
          "target": "0ba16baaee164e188eb7517e1d7907d7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ede5c963234e4be2908c93c6f82d5f8e",
          "edgeType": "Branch",
          "source": "0ba16baaee164e188eb7517e1d7907d7",
          "target": "822ef315be27448f86176b30a0b57a69",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=",
            "mode": "query"
          },
          "label": "Do not proceed with default value"
        },
        {
          "id": "20c032f81f254ac0883b7f578e40d95a",
          "edgeType": "Branch",
          "source": "0ba16baaee164e188eb7517e1d7907d7",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.proceed_with_default=true",
            "mode": "query"
          },
          "label": "Proceed with default value"
        },
        {
          "id": "54021b8b9ba742158f39a8bd129f6331",
          "edgeType": "Edge",
          "source": "f271826512564c5c9fa869c1528caa78",
          "target": "ce52248e0a4843569613ec3a7d504ecc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3736ab1f0be740659262eeaa0f8d5438",
          "edgeType": "Branch",
          "source": "ce52248e0a4843569613ec3a7d504ecc",
          "target": "b2f6f97c0f1447738d3d661e2155ebe3",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=",
            "mode": "query"
          },
          "label": "No",
          "fromNode": "24 Show end state card?",
          "toNode": "b2f6f97c0f1447738d3d661e2155ebe3",
          "toEdge": "3736ab1f0be740659262eeaa0f8d5438",
          "addNode": {},
          "nodeEntries": {}
        },
        {
          "id": "0295faed240b4dd78bffc60beef98724",
          "edgeType": "Edge",
          "source": "499a44abe9c948919a0ef4c9fe7c560c",
          "target": "725220686d9748e8a330f7051c2337b9",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3c6cea4610b049f4aceb86cf7d4920ec",
          "edgeType": "Branch",
          "source": "725220686d9748e8a330f7051c2337b9",
          "target": "d8482236657c4d96a0d3021b049ac6a4",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 2 || type === 6 || type === 16;\n})()"
          },
          "label": "Text Type"
        },
        {
          "id": "bd88b942b661467299c18302862b5f0c",
          "edgeType": "Branch",
          "source": "725220686d9748e8a330f7051c2337b9",
          "target": "ccdfd59a6afb4539a83b2130238b013e",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 26;\n})()\n"
          },
          "label": "Email Type"
        },
        {
          "id": "656977875feb48cc932e5c6e9d5104da",
          "edgeType": "Branch",
          "source": "725220686d9748e8a330f7051c2337b9",
          "target": "5a7d96634e294337ac51846a69c45192",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 28;\n})()\n"
          },
          "label": "IP Address Type"
        },
        {
          "id": "40fdb5151a484a698340014615e2227e",
          "edgeType": "Branch",
          "source": "725220686d9748e8a330f7051c2337b9",
          "target": "a7193adfa51648e4bc307f13075a9db1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 27;\n})()\n"
          },
          "label": "URL Type"
        },
        {
          "id": "bae399de00a84a699ad2bb2fb0ccfc07",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "f403deab25b04861926dd1caf3bd0780",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var type = JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type;\n    return type === 1 || type === 3 || type === 4 || type === 5 || type === 18 || type === 22;\n})()\n"
          },
          "label": "Choice Question"
        },
        {
          "id": "2499c3f5414444e5a4be9a922b89ad39",
          "edgeType": "Branch",
          "source": "f403deab25b04861926dd1caf3bd0780",
          "target": "39b352bf0cf146a5813580386d9f666c",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "8e2a59863be74c9496ce52bcfcaa3119",
          "edgeType": "Branch",
          "source": "f403deab25b04861926dd1caf3bd0780",
          "target": "86df3902bd3c428c8579737431350cfc",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()\n"
          },
          "label": "Other Channels"
        },
        {
          "id": "0e25d14c8ddd415e9567603812e1cb85",
          "edgeType": "Edge",
          "source": "86df3902bd3c428c8579737431350cfc",
          "target": "93318b7d304c4f5d87f7ac7df0fb5594",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "c73e7f1b945a4f86bea1e5784a452e95",
          "edgeType": "Branch",
          "source": "93318b7d304c4f5d87f7ac7df0fb5594",
          "target": "c4c7f93e774d4dd9b3e19400a83ed3f7",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Choice Prev"
        },
        {
          "id": "07771b68789247ada05e42fa9819aecd",
          "edgeType": "Edge",
          "source": "c4c7f93e774d4dd9b3e19400a83ed3f7",
          "target": "86df3902bd3c428c8579737431350cfc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ef41a04fffb942aba133ea22acb5040e",
          "edgeType": "Branch",
          "source": "93318b7d304c4f5d87f7ac7df0fb5594",
          "target": "b593e0f1190a42aabd6a81a6627715ab",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_choice_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Choice Next"
        },
        {
          "id": "8e7828b0bd2e4ba28f4591163b8c45b4",
          "edgeType": "Edge",
          "source": "b593e0f1190a42aabd6a81a6627715ab",
          "target": "86df3902bd3c428c8579737431350cfc",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e703a3f1203f42d78ff4b05c88c29118",
          "edgeType": "Branch",
          "source": "93318b7d304c4f5d87f7ac7df0fb5594",
          "target": "03913b036e7542cc819ebe9a91d71e36",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_choice_other_channels.getValue();\n    var condition = valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev';\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})();"
          },
          "label": "Question Choice Chosen"
        },
        {
          "id": "0644804517ae40d79f8fd31361e80afa",
          "edgeType": "Edge",
          "source": "39b352bf0cf146a5813580386d9f666c",
          "target": "03913b036e7542cc819ebe9a91d71e36",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "79f420d9627e4b46a6d11f67bd5e8eed",
          "edgeType": "Edge",
          "source": "03913b036e7542cc819ebe9a91d71e36",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "3e2b3609887545e0bf05c1ce853d84db",
          "edgeType": "Branch",
          "source": "822ef315be27448f86176b30a0b57a69",
          "target": "f01a3c9cf86142c4beee73bbf60a0907",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n   return JSON.parse(vaVars.itemJSON).variables[vaVars.qIndex].type === 8;\n})()"
          },
          "label": "Reference Question"
        },
        {
          "id": "6e0b6e76608f460fb7fd3d7046be56d2",
          "edgeType": "Branch",
          "source": "f01a3c9cf86142c4beee73bbf60a0907",
          "target": "ed4708d2bb154831a65fed6c4b56b79b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaContext.deviceType === \"mweb\";\n})()\n"
          },
          "label": "Mobile/Web Client"
        },
        {
          "id": "bcd7e0eab61a411db743d74582734762",
          "edgeType": "Branch",
          "source": "f01a3c9cf86142c4beee73bbf60a0907",
          "target": "6565361f242b4825a32cf52c0f493819",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return !(vaContext.deviceType === \"mweb\");\n})()"
          },
          "label": "Other Channels"
        },
        {
          "id": "b029e30fcbbe43a08f1861090113fb81",
          "edgeType": "Edge",
          "source": "6565361f242b4825a32cf52c0f493819",
          "target": "1fb5f6dbf24f40fd976d42e5842186a1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "662e277ebe2344dea5d8da118e39a3f1",
          "edgeType": "Edge",
          "source": "1fb5f6dbf24f40fd976d42e5842186a1",
          "target": "fae8e75c27bb4dbf894c365024ebd4b6",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7821240114704fb6b1e186a4c99cfa0d",
          "edgeType": "Branch",
          "source": "fae8e75c27bb4dbf894c365024ebd4b6",
          "target": "5aee16e73cbd4aceb744efa4e7266af6",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"prev\";\n})()\n"
          },
          "label": "Question Reference Prev"
        },
        {
          "id": "d2d4557521af44509bfc214f6e6537c9",
          "edgeType": "Edge",
          "source": "5aee16e73cbd4aceb744efa4e7266af6",
          "target": "1fb5f6dbf24f40fd976d42e5842186a1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "770b92a24b584aa4aeae0a4231d40d6b",
          "edgeType": "Branch",
          "source": "fae8e75c27bb4dbf894c365024ebd4b6",
          "target": "c6b98034204541009423391a3a795754",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.question_reference_other_channels.getValue() === \"next\";\n})()\n"
          },
          "label": "Question Reference Next"
        },
        {
          "id": "fe16c91af236410ba08d6be2ffd373b6",
          "edgeType": "Edge",
          "source": "c6b98034204541009423391a3a795754",
          "target": "1fb5f6dbf24f40fd976d42e5842186a1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6e105016e4124bb5a753bfad9f94b62c",
          "edgeType": "Branch",
          "source": "fae8e75c27bb4dbf894c365024ebd4b6",
          "target": "1eb21d553b644d05ab10c2b5b58033d5",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var chosenCondition = valuePicked &amp;&amp; valuePicked !== 'next' &amp;&amp; valuePicked !== 'prev' &amp;&amp; valuePicked !== 'search';\n    var skippedCondition = vaVars.no_records_found === \"false\" &amp;&amp; !valuePicked;\n    if (chosenCondition || skippedCondition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    \n    return chosenCondition || skippedCondition;\n})();"
          },
          "label": "Question Reference Chosen/Skipped"
        },
        {
          "id": "d63f5a006ea34ddfa0f1c7fff8f79b5e",
          "edgeType": "Branch",
          "source": "fae8e75c27bb4dbf894c365024ebd4b6",
          "target": "6565361f242b4825a32cf52c0f493819",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var valuePicked = vaInputs.question_reference_other_channels.getValue();\n    var condition = (vaVars.no_records_found === \"true\") || valuePicked === \"search\";\n    if (condition) {\n        vaVars.count = 0;\n        vaVars.index = 0;\n    }\n    return condition;\n})()\n"
          },
          "label": "Search Question Reference"
        },
        {
          "id": "08204682f3a04469af6d3800146a4d55",
          "edgeType": "Edge",
          "source": "ed4708d2bb154831a65fed6c4b56b79b",
          "target": "1eb21d553b644d05ab10c2b5b58033d5",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "263b11f8c521477dacedb77b0a7ae3f6",
          "edgeType": "Edge",
          "source": "1eb21d553b644d05ab10c2b5b58033d5",
          "target": "c52a1149520047d5a73c9ebe61a036b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b3d9c5a8f75143a19acd0e73d7181e06",
          "edgeType": "Branch",
          "source": "ce52248e0a4843569613ec3a7d504ecc",
          "target": "328bc3fa4b7c4033a89280571c2afe68",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "vaInputs.show_end_state_card=true",
            "mode": "query"
          },
          "label": "Yes",
          "fromNode": "24 Show end state card?",
          "toNode": "b2f6f97c0f1447738d3d661e2155ebe3",
          "toEdge": "b3d9c5a8f75143a19acd0e73d7181e06",
          "addNode": {},
          "nodeEntries": {}
        }
      ]
    }
  },
  "variables": {
    "0845a14197a54abfa0ed3c3094530f3c": {
      "id": "0845a14197a54abfa0ed3c3094530f3c",
      "name": "catalog_item_id",
      "label": "Catalog_item_id",
      "defaultValue": "",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "4aac312378a446459d6d9a7dc88db219": {
      "id": "4aac312378a446459d6d9a7dc88db219",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemJSON",
      "label": "itemJSON",
      "varType": "script",
      "category": "vaVars"
    },
    "e942608ed6ca4c6486eb92fc71e6c68d": {
      "id": "e942608ed6ca4c6486eb92fc71e6c68d",
      "value": {
        "mode": "simple",
        "value": ""
      },
      "name": "itemName",
      "label": "itemName",
      "varType": "script",
      "category": "vaVars"
    },
    "7a2c53dea8db465683bf441247dbe5ba": {
      "id": "7a2c53dea8db465683bf441247dbe5ba",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_id",
      "label": "record_id",
      "varType": "script",
      "category": "vaVars"
    },
    "a555a867739c4cccb03ae1b5c36da200": {
      "id": "a555a867739c4cccb03ae1b5c36da200",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "record_table",
      "label": "record_table",
      "varType": "script",
      "category": "vaVars"
    },
    "8ac34be332244096b75ffdc8931e90cc": {
      "id": "8ac34be332244096b75ffdc8931e90cc",
      "name": "proceed",
      "label": "Proceed",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "df6a6ce6ba3740ed809b589687ab0809": {
      "id": "df6a6ce6ba3740ed809b589687ab0809",
      "value": {
        "mode": "simple",
        "value": "-1"
      },
      "name": "qIndex",
      "label": "qIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "2f9517fcebe5464fbdb1d0029eac08f4": {
      "id": "2f9517fcebe5464fbdb1d0029eac08f4",
      "name": "submit_producer",
      "label": "Submit Producer",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "d55a25e74cf145bb89f7e62e52f09b9b": {
      "id": "d55a25e74cf145bb89f7e62e52f09b9b",
      "value": {
        "mode": "simple",
        "value": "7"
      },
      "name": "limit",
      "label": "limit",
      "varType": "script",
      "category": "vaVars"
    },
    "f25d4ab291ea4825a40abc2e2d8ea0d2": {
      "id": "f25d4ab291ea4825a40abc2e2d8ea0d2",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "count",
      "label": "count",
      "varType": "script",
      "category": "vaVars"
    },
    "0775a38b2d6346539bd46b71c761428b": {
      "id": "0775a38b2d6346539bd46b71c761428b",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "index",
      "label": "index",
      "varType": "script",
      "category": "vaVars"
    },
    "d95d3689d59c4fb2835666556859452b": {
      "id": "d95d3689d59c4fb2835666556859452b",
      "name": "order_item",
      "label": "Order Item",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "89ee67709d324252b1097acfbd760d0a": {
      "id": "89ee67709d324252b1097acfbd760d0a",
      "name": "question_date",
      "label": "Question Date",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date"
    },
    "ec032a9f8a2345788c1ba8836cfc9d6a": {
      "id": "ec032a9f8a2345788c1ba8836cfc9d6a",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "validation_message",
      "label": "validation_message",
      "varType": "script",
      "category": "vaVars"
    },
    "0bcc541ab0024d63a721e3c361c512e6": {
      "id": "0bcc541ab0024d63a721e3c361c512e6",
      "name": "question_text",
      "label": "Question Text",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "e72cc9fcb359400ca36bc99dac9b4a9f": {
      "id": "e72cc9fcb359400ca36bc99dac9b4a9f",
      "name": "question_reference",
      "label": "Question Reference",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "1bde998a8dc947c7b6b673caa16e3391": {
      "category": "vaInputs",
      "id": "1bde998a8dc947c7b6b673caa16e3391",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    },
    "19967a31e8ff4bc8be0eb0f0f625f2ce": {
      "id": "19967a31e8ff4bc8be0eb0f0f625f2ce",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"
      },
      "name": "request_for",
      "label": "request_for",
      "varType": "script",
      "category": "vaVars"
    },
    "6da4b36f89cf43179fdafa9f54cbfe0e": {
      "id": "6da4b36f89cf43179fdafa9f54cbfe0e",
      "name": "question_choice",
      "label": "Question Choice",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "beeff529ecbc4f38b1932a34b197adf9": {
      "id": "beeff529ecbc4f38b1932a34b197adf9",
      "name": "question_date_time",
      "label": "Question Date Time",
      "varType": "date_time",
      "category": "vaInputs",
      "mode": "date_time"
    },
    "7c88e20f614442ca8e5e3f6cf8f407fb": {
      "id": "7c88e20f614442ca8e5e3f6cf8f407fb",
      "name": "question_requested_for",
      "label": "Question Requested For",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "d63ab2420c294750935e44d7fdb70e67": {
      "id": "d63ab2420c294750935e44d7fdb70e67",
      "name": "search_requested_for",
      "label": "Search Requested For",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "fafb892c0b904553b7191a0368a04a15": {
      "id": "fafb892c0b904553b7191a0368a04a15",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return false;\n})()\n"
      },
      "name": "canView",
      "label": "canView",
      "varType": "script",
      "category": "vaVars"
    },
    "9731ca7237de4f54b93f7f3fb8573a78": {
      "id": "9731ca7237de4f54b93f7f3fb8573a78",
      "name": "request_for_another_user",
      "label": "Request For Another User",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "39daf23c2bb141bfb7b1b314a1bc66a1": {
      "id": "39daf23c2bb141bfb7b1b314a1bc66a1",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '7,14,15,17,21,23,25,29,30';\n})()\n"
      },
      "name": "unsupportedVarTypes",
      "label": "unsupportedVarTypes",
      "varType": "script",
      "category": "vaVars"
    },
    "5cec8d23da1f4dd5ab027098434de43e": {
      "id": "5cec8d23da1f4dd5ab027098434de43e",
      "name": "question_email",
      "label": "Question Email",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "d2f9a89bf0db4a32bccb1a0b1240050c": {
      "id": "d2f9a89bf0db4a32bccb1a0b1240050c",
      "name": "question_ip_address",
      "label": "Question IP Address",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "efc16df6a2b2439c91b4d334fc21ae47": {
      "id": "efc16df6a2b2439c91b4d334fc21ae47",
      "name": "question_url",
      "label": "Question URL",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTYxMTIxNzA0NzMzMiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "2ecf6a4c47d0442085224a82a9578df9": {
      "id": "2ecf6a4c47d0442085224a82a9578df9",
      "name": "add_attachment",
      "label": "Add Attachment",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "0fdf82e8310a4270ae7eb058bc677e37": {
      "id": "0fdf82e8310a4270ae7eb058bc677e37",
      "name": "upload_attachment",
      "label": "Upload Attachment",
      "varType": "file",
      "category": "vaInputs"
    },
    "208e8161db984f73a94cf5c40d658533": {
      "id": "208e8161db984f73a94cf5c40d658533",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "media_links_form_attachment",
      "label": "media_links_form_attachment",
      "varType": "script",
      "category": "vaVars"
    },
    "2f9f67bfae294d899448a6868d720fde": {
      "id": "2f9f67bfae294d899448a6868d720fde",
      "name": "add_more",
      "label": "Add More",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "8b7b58df3d5b4352ac5f3dd31b8de875": {
      "id": "8b7b58df3d5b4352ac5f3dd31b8de875",
      "name": "question_attachment",
      "label": "Question Attachment",
      "varType": "file",
      "category": "vaInputs"
    },
    "fba0a8de3e6c413696b69761a8ec5e75": {
      "id": "fba0a8de3e6c413696b69761a8ec5e75",
      "name": "execute_contextual_search",
      "label": "Execute_contextual_search",
      "defaultValue": "false",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "69b77649073541079d83ef02454db839": {
      "id": "69b77649073541079d83ef02454db839",
      "name": "confirm_catalog_item",
      "label": "Confirm_catalog_item",
      "defaultValue": "true",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "f4da6894fba8488d8e7ebdd39f37d566": {
      "id": "f4da6894fba8488d8e7ebdd39f37d566",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    return '';\n})()\n"
      },
      "name": "contextualSearchVariable",
      "label": "contextualSearchVariable",
      "varType": "script",
      "category": "vaVars"
    },
    "2c7b13b854234e329bd3cdff55fd9b6d": {
      "id": "2c7b13b854234e329bd3cdff55fd9b6d",
      "value": {
        "mode": "simple",
        "value": "2821675a5b30130070e4492c11f91a89"
      },
      "name": "contextualSearchContext",
      "label": "contextualSearchContext",
      "varType": "script",
      "category": "vaVars"
    },
    "a865ad1d7ddb46edaf5c7a0dfb96bc9e": {
      "id": "a865ad1d7ddb46edaf5c7a0dfb96bc9e",
      "value": {
        "mode": "simple",
        "value": "3"
      },
      "name": "contextualSearchResultLimit",
      "label": "contextualSearchResultLimit",
      "varType": "script",
      "category": "vaVars"
    },
    "339d472d234c4fe297ecaac0414280d2": {
      "id": "339d472d234c4fe297ecaac0414280d2",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchIndex",
      "label": "contextualSearchIndex",
      "varType": "script",
      "category": "vaVars"
    },
    "62d89992e5a84312b03136a1bc7fec80": {
      "id": "62d89992e5a84312b03136a1bc7fec80",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "contextualSearchResultJsonString",
      "label": "contextualSearchResultJsonString",
      "varType": "script",
      "category": "vaVars"
    },
    "0acbcaf6224c4874bc5a4ce418a9d18a": {
      "id": "0acbcaf6224c4874bc5a4ce418a9d18a",
      "value": {
        "mode": "simple",
        "value": "0"
      },
      "name": "contextualSearchResultCount",
      "label": "contextualSearchResultCount",
      "varType": "script",
      "category": "vaVars"
    },
    "148f6abe10f144bc8049e1a7d9970c16": {
      "id": "148f6abe10f144bc8049e1a7d9970c16",
      "name": "did_articles_help",
      "label": "Did_articles_help",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "d6bba76e568c4e5cb3f74d27e040add5": {
      "id": "d6bba76e568c4e5cb3f74d27e040add5",
      "name": "proceed_with_default",
      "label": "Proceed With Default",
      "varType": "boolean",
      "secure": false,
      "category": "vaInputs"
    },
    "cbac2b71528344b4a4f27b9ca2b11f29": {
      "id": "cbac2b71528344b4a4f27b9ca2b11f29",
      "name": "show_end_state_card",
      "label": "Show_end_state_card",
      "defaultValue": "false",
      "varType": "boolean",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "8cbeff61ed5343ebb8350cc5c4e68666": {
      "id": "8cbeff61ed5343ebb8350cc5c4e68666",
      "name": "question_choice_other_channels",
      "label": "Question Choice Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "023eea0b3b0e41589ecd3c1060642f77": {
      "id": "023eea0b3b0e41589ecd3c1060642f77",
      "name": "search_reference",
      "label": "Search Reference",
      "varType": "string",
      "secure": false,
      "category": "vaInputs",
      "encryptionHashFunction": "SHA-256",
      "encryptionSalt": {
        "value": "MTY1MDQ4NTE4OTAxMCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      }
    },
    "ee743482165e433f80d8b4f684b67f91": {
      "id": "ee743482165e433f80d8b4f684b67f91",
      "name": "question_reference_other_channels",
      "label": "Question Reference Other Channels",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "b8c0bca27399425a86f09afae6a89252": {
      "id": "b8c0bca27399425a86f09afae6a89252",
      "value": {
        "mode": "script",
        "value": "(function execute() {\n    /* return 'a default value'; */\n    return \"false\";\n})()\n"
      },
      "name": "no_records_found",
      "label": "no_records_found",
      "varType": "script",
      "category": "vaVars"
    }
  }
}</graph>
        <name>Request CI EDClinic</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-01-02 18:11:26</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>2ba3b0df1b8421103ddb639bbc4bcb5c</sys_id>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="EDClinic" source="x_926609_edclinic">dc2fa61c1b3611103ddb639bbc4bcbb6</sys_package>
        <sys_policy/>
        <sys_scope display_value="EDClinic">dc2fa61c1b3611103ddb639bbc4bcbb6</sys_scope>
        <sys_update_name>sys_cb_design_topic_2ba3b0df1b8421103ddb639bbc4bcb5c</sys_update_name>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
